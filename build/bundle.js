var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function s(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,n,r){if(t){const o=u(t,e,n,r);return t[0](o)}}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function h(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function f(t,e,n,r,o,i){if(o){const a=u(e,n,r,i);t.p(a,o)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){return null==t?"":t}function p(e){return e&&o(e.destroy)?e.destroy:t}const m="undefined"!=typeof window;let y=m?()=>window.performance.now():()=>Date.now(),v=m?t=>requestAnimationFrame(t):t;const w=new Set;function _(t){w.forEach((e=>{e.c(t)||(w.delete(e),e.f())})),0!==w.size&&v(_)}function b(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function N(){return A(" ")}function C(){return A("")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function D(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:E(t,e,n)}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function H(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function j(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function U(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let I;function O(t){I=t}function F(){if(!I)throw new Error("Function called outside component initialization");return I}function Y(t){F().$$.on_mount.push(t)}const P=[],W=[],R=[],q=[],B=Promise.resolve();let V=!1;function z(t){R.push(t)}function X(t){q.push(t)}let Z=!1;const J=new Set;function G(){if(!Z){Z=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];O(e),Q(e.$$)}for(O(null),P.length=0;W.length;)W.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];J.has(e)||(J.add(e),e())}R.length=0}while(P.length);for(;q.length;)q.pop()();V=!1,Z=!1,J.clear()}}function Q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const K=new Set;let tt;function et(t,e){t&&t.i&&(K.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),tt.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function rt(t,e){const n=e.token={};function o(t,o,i,a){if(e.token!==n)return;e.resolved=a;let s=e.ctx;void 0!==i&&(s=s.slice(),s[i]=a);const l=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(tt={r:0,c:[],p:tt},nt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),tt.r||r(tt.c),tt=tt.p)})):e.block.d(1),l.c(),et(l,1),l.m(e.mount(),e.anchor),c=!0),e.block=l,e.blocks&&(e.blocks[o]=l),c&&G()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=F();if(t.then((t=>{O(n),o(e.then,1,e.value,t),O(null)}),(t=>{if(O(n),o(e.catch,2,e.error,t),O(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var i}const ot="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function it(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function at(t){t&&t.c()}function st(t,n,i,a){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,i),a||z((()=>{const n=l.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(z)}function lt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(P.push(t),V||(V=!0,B.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,o,i,a,s,l,c,u=[-1]){const h=I;O(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),d&&ct(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(k)}else f.fragment&&f.fragment.c();o.intro&&et(e.$$.fragment),st(e,o.target,o.anchor,o.customElement),G()}O(h)}class ht{$destroy(){lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ft(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dt(t){let e=t,n=t,r=t;function o(t,e,o=0,i=t.length){if(o<i){if(0!==n(e,e))return i;do{const n=o+i>>>1;r(t[n],e)<0?o=n+1:i=n}while(o<i)}return o}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=ft,r=(e,n)=>ft(t(e),n)),{left:o,center:function(t,n,r=0,i=t.length){const a=o(t,n,r,i-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,o=0,i=t.length){if(o<i){if(0!==n(e,e))return i;do{const n=o+i>>>1;r(t[n],e)<=0?o=n+1:i=n}while(o<i)}return o}}}const gt=dt(ft).right;dt((function(t){return null===t?NaN:+t})).center;var pt=gt;function mt(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class yt extends Map{constructor(t,e=wt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(vt(this,t))}has(t){return super.has(vt(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function vt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wt(t){return null!==t&&"object"==typeof t?t.valueOf():t}var _t=Math.sqrt(50),bt=Math.sqrt(10),xt=Math.sqrt(2);function kt(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=_t?10:i>=bt?5:i>=xt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=_t?10:i>=bt?5:i>=xt?2:1)}function Tt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=_t?o*=10:i>=bt?o*=5:i>=xt&&(o*=2),e<t?-o:o}function $t(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Mt(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}var At={value:()=>{}};function Nt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ct(r)}function Ct(t){this._=t}function St(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Et(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Dt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=At,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ct.prototype=Nt.prototype={constructor:Ct,on:function(t,e){var n,r=this._,o=St(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Dt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Dt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=Et(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ct(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var Lt="http://www.w3.org/1999/xhtml",Ht={svg:"http://www.w3.org/2000/svg",xhtml:Lt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ht.hasOwnProperty(e)?{space:Ht[e],local:t}:t}function Ut(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lt&&e.documentElement.namespaceURI===Lt?e.createElement(t):e.createElementNS(n,t)}}function It(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ot(t){var e=jt(t);return(e.local?It:Ut)(e)}function Ft(){}function Yt(t){return null==t?Ft:function(){return this.querySelector(t)}}function Pt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Wt(){return[]}function Rt(t){return null==t?Wt:function(){return this.querySelectorAll(t)}}function qt(t){return function(){return this.matches(t)}}function Bt(t){return function(e){return e.matches(t)}}var Vt=Array.prototype.find;function zt(){return this.firstElementChild}var Xt=Array.prototype.filter;function Zt(){return Array.from(this.children)}function Jt(t){return new Array(t.length)}function Gt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Qt(t){return function(){return t}}function Kt(t,e,n,r,o,i){for(var a,s=0,l=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new Gt(t,i[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function te(t,e,n,r,o,i,a){var s,l,c,u=new Map,h=e.length,f=i.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<f;++s)c=a.call(t,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new Gt(t,i[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(d[s])===l&&(o[s]=l)}function ee(t){return t.__data__}function ne(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function re(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function oe(t){return function(){this.removeAttribute(t)}}function ie(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ae(t,e){return function(){this.setAttribute(t,e)}}function se(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function le(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ce(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ue(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function he(t){return function(){this.style.removeProperty(t)}}function fe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function de(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ge(t,e){return t.style.getPropertyValue(e)||ue(t).getComputedStyle(t,null).getPropertyValue(e)}function pe(t){return function(){delete this[t]}}function me(t,e){return function(){this[t]=e}}function ye(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ve(t){return t.trim().split(/^|\s+/)}function we(t){return t.classList||new _e(t)}function _e(t){this._node=t,this._names=ve(t.getAttribute("class")||"")}function be(t,e){for(var n=we(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function xe(t,e){for(var n=we(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function ke(t){return function(){be(this,t)}}function Te(t){return function(){xe(this,t)}}function $e(t,e){return function(){(e.apply(this,arguments)?be:xe)(this,t)}}function Me(){this.textContent=""}function Ae(t){return function(){this.textContent=t}}function Ne(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ce(){this.innerHTML=""}function Se(t){return function(){this.innerHTML=t}}function Ee(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function De(){this.nextSibling&&this.parentNode.appendChild(this)}function Le(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function He(){return null}function je(){var t=this.parentNode;t&&t.removeChild(this)}function Ue(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ie(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Oe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Fe(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function Ye(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Pe(t,e,n){var r=ue(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function We(t,e){return function(){return Pe(this,t,e)}}function Re(t,e){return function(){return Pe(this,t,e.apply(this,arguments))}}Gt.prototype={constructor:Gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},_e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qe=[null];function Be(t,e){this._groups=t,this._parents=e}function Ve(){return new Be([[document.documentElement]],qe)}function ze(t){return"string"==typeof t?new Be([document.querySelectorAll(t)],[document.documentElement]):new Be([Pt(t)],qe)}function Xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ze(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Je(){}Be.prototype=Ve.prototype={constructor:Be,select:function(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=t.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Be(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Pt(t.apply(this,arguments))}}(t):Rt(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),o.push(a));return new Be(r,o)},selectChild:function(t){return this.select(null==t?zt:function(t){return function(){return Vt.call(this.children,t)}}("function"==typeof t?t:Bt(t)))},selectChildren:function(t){return this.selectAll(null==t?Zt:function(t){return function(){return Xt.call(this.children,t)}}("function"==typeof t?t:Bt(t)))},filter:function(t){"function"!=typeof t&&(t=qt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&l.push(i);return new Be(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ee);var n=e?te:Kt,r=this._parents,o=this._groups;"function"!=typeof t&&(t=Qt(t));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],h=o[c],f=h.length,d=ne(t.call(u,u&&u.__data__,c,r)),g=d.length,p=s[c]=new Array(g),m=a[c]=new Array(g),y=l[c]=new Array(f);n(u,h,p,m,y,d,e);for(var v,w,_=0,b=0;_<g;++_)if(v=p[_]){for(_>=b&&(b=_+1);!(w=m[b])&&++b<g;);v._next=w||null}}return(a=new Be(a,r))._enter=s,a._exit=l,a},enter:function(){return new Be(this._enter||this._groups.map(Jt),this._parents)},exit:function(){return new Be(this._exit||this._groups.map(Jt),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],h=r[l],f=u.length,d=s[l]=new Array(f),g=0;g<f;++g)(c=u[g]||h[g])&&(d[g]=c);for(;l<o;++l)s[l]=n[l];return new Be(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=re);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Be(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=jt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ie:oe:"function"==typeof e?n.local?ce:le:n.local?se:ae)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?he:"function"==typeof e?de:fe)(t,e,null==n?"":n)):ge(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?pe:"function"==typeof e?ye:me)(t,e)):this.node()[t]},classed:function(t,e){var n=ve(t+"");if(arguments.length<2){for(var r=we(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?$e:e?ke:Te)(n,e))},text:function(t){return arguments.length?this.each(null==t?Me:("function"==typeof t?Ne:Ae)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ce:("function"==typeof t?Ee:Se)(t)):this.node().innerHTML},raise:function(){return this.each(De)},lower:function(){return this.each(Le)},append:function(t){var e="function"==typeof t?t:Ot(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ot(t),r=null==e?He:"function"==typeof e?e:Yt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(je)},clone:function(t){return this.select(t?Ie:Ue)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=Oe(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?Ye:Fe,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Re:We)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var Ge=.7,Qe=1/Ge,Ke="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,rn=new RegExp("^rgb\\("+[Ke,Ke,Ke]+"\\)$"),on=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),an=new RegExp("^rgba\\("+[Ke,Ke,Ke,tn]+"\\)$"),sn=new RegExp("^rgba\\("+[en,en,en,tn]+"\\)$"),ln=new RegExp("^hsl\\("+[tn,en,en]+"\\)$"),cn=new RegExp("^hsla\\("+[tn,en,en,tn]+"\\)$"),un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hn(){return this.rgb().formatHex()}function fn(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?gn(e):3===n?new vn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=rn.exec(t))?new vn(e[1],e[2],e[3],1):(e=on.exec(t))?new vn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=an.exec(t))?pn(e[1],e[2],e[3],e[4]):(e=sn.exec(t))?pn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ln.exec(t))?xn(e[1],e[2]/100,e[3]/100,1):(e=cn.exec(t))?xn(e[1],e[2]/100,e[3]/100,e[4]):un.hasOwnProperty(t)?gn(un[t]):"transparent"===t?new vn(NaN,NaN,NaN,0):null}function gn(t){return new vn(t>>16&255,t>>8&255,255&t,1)}function pn(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function mn(t){return t instanceof Je||(t=dn(t)),t?new vn((t=t.rgb()).r,t.g,t.b,t.opacity):new vn}function yn(t,e,n,r){return 1===arguments.length?mn(t):new vn(t,e,n,null==r?1:r)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function wn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function _n(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function xn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tn(t,e,n,r)}function kn(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);if(t instanceof Je||(t=dn(t)),!t)return new Tn;if(t instanceof Tn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Tn(a,s,l,t.opacity)}function Tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $n(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xe(Je,dn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:hn,formatHex:hn,formatHsl:function(){return kn(this).formatHsl()},formatRgb:fn,toString:fn}),Xe(vn,yn,Ze(Je,{brighter:function(t){return t=null==t?Qe:Math.pow(Qe,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ge:Math.pow(Ge,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wn,formatHex:wn,formatRgb:_n,toString:_n})),Xe(Tn,(function(t,e,n,r){return 1===arguments.length?kn(t):new Tn(t,e,n,null==r?1:r)}),Ze(Je,{brighter:function(t){return t=null==t?Qe:Math.pow(Qe,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ge:Math.pow(Ge,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new vn($n(t>=240?t-240:t+120,o,r),$n(t,o,r),$n(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Mn=t=>()=>t;function An(t){return 1==(t=+t)?Nn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Mn(isNaN(e)?n:e)}}function Nn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Mn(isNaN(t)?e:t)}var Cn=function t(e){var n=An(e);function r(t,e){var r=n((t=yn(t)).r,(e=yn(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=Nn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Sn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function En(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=On(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function Dn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ln(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Hn(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=On(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Un=new RegExp(jn.source,"g");function In(t,e){var n,r,o,i=jn.lastIndex=Un.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=jn.exec(t))&&(r=Un.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ln(n,r)})),i=Un.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function On(t,e){var n,r=typeof e;return null==e||"boolean"===r?Mn(e):("number"===r?Ln:"string"===r?(n=dn(e))?(e=n,Cn):In:e instanceof dn?Cn:e instanceof Date?Dn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Sn:Array.isArray(e)?En:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Hn:Ln)(t,e)}function Fn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Yn,Pn=180/Math.PI,Wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rn(t,e,n,r,o,i){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Pn,skewX:Math.atan(l)*Pn,scaleX:a,scaleY:s}}function qn(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],l=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Ln(t,o)},{i:l-2,x:Ln(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Ln(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,l),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Ln(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,l),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Ln(t,n)},{i:s-2,x:Ln(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Bn,Vn,zn=qn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Wn:Rn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Xn=qn((function(t){return null==t?Wn:(Yn||(Yn=document.createElementNS("http://www.w3.org/2000/svg","g")),Yn.setAttribute("transform",t),(t=Yn.transform.baseVal.consolidate())?Rn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Wn)}),", ",")",")"),Zn=0,Jn=0,Gn=0,Qn=0,Kn=0,tr=0,er="object"==typeof performance&&performance.now?performance:Date,nr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rr(){return Kn||(nr(or),Kn=er.now()+tr)}function or(){Kn=0}function ir(){this._call=this._time=this._next=null}function ar(t,e,n){var r=new ir;return r.restart(t,e,n),r}function sr(){Kn=(Qn=er.now())+tr,Zn=Jn=0;try{!function(){rr(),++Zn;for(var t,e=Bn;e;)(t=Kn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zn}()}finally{Zn=0,function(){var t,e,n=Bn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Bn=e);Vn=t,cr(r)}(),Kn=0}}function lr(){var t=er.now(),e=t-Qn;e>1e3&&(tr-=e,Qn=t)}function cr(t){Zn||(Jn&&(Jn=clearTimeout(Jn)),t-Kn>24?(t<1/0&&(Jn=setTimeout(sr,t-er.now()-tr)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Qn=er.now(),Gn=setInterval(lr,1e3)),Zn=1,nr(sr)))}function ur(t,e,n){var r=new ir;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ir.prototype=ar.prototype={constructor:ir,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?rr():+n)+(null==e?0:+e),this._next||Vn===this||(Vn?Vn._next=this:Bn=this,Vn=this),this._call=t,this._time=n,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};var hr=Nt("start","end","cancel","interrupt"),fr=[];function dr(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var c,u,h,f;if(1!==n.state)return l();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return ur(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[c])}if(ur((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=ar(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:hr,tween:fr,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function gr(t,e){var n=mr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function pr(t,e){var n=mr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function mr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function yr(t,e){var n,r;return function(){var o=pr(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function vr(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=pr(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function wr(t,e,n){var r=t._id;return t.each((function(){var t=pr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return mr(t,r).value[e]}}function _r(t,e){var n;return("number"==typeof e?Ln:e instanceof dn?Cn:(n=dn(e))?(e=n,Cn):In)(t,e)}function br(t){return function(){this.removeAttribute(t)}}function xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kr(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Tr(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function $r(t,e,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,l));this.removeAttribute(t)}}function Mr(t,e,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Ar(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cr(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Nr(t,o)),n}return o._value=e,o}function Sr(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ar(t,o)),n}return o._value=e,o}function Er(t,e){return function(){gr(this,t).delay=+e.apply(this,arguments)}}function Dr(t,e){return e=+e,function(){gr(this,t).delay=e}}function Lr(t,e){return function(){pr(this,t).duration=+e.apply(this,arguments)}}function Hr(t,e){return e=+e,function(){pr(this,t).duration=e}}function jr(t,e){if("function"!=typeof e)throw new Error;return function(){pr(this,t).ease=e}}function Ur(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?gr:pr;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}var Ir=Ve.prototype.constructor;function Or(t){return function(){this.style.removeProperty(t)}}function Fr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Yr(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&Fr(t,i,n)),r}return i._value=e,i}function Pr(t){return function(e){this.textContent=t.call(this,e)}}function Wr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Pr(r)),e}return r._value=t,r}var Rr=0;function qr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Br(){return++Rr}var Vr=Ve.prototype;qr.prototype={constructor:qr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Yt(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,h=i[a]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=t.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,dr(h[f],e,n,f,h,mr(s,n)));return new qr(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Rt(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,d=t.call(l,l.__data__,h,c),g=mr(l,n),p=0,m=d.length;p<m;++p)(f=d[p])&&dr(f,e,n,p,d,g);i.push(d),a.push(l)}return new qr(i,a,e,n)},selectChild:Vr.selectChild,selectChildren:Vr.selectChildren,filter:function(t){"function"!=typeof t&&(t=qt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&l.push(i);return new qr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=e[s],u=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new qr(a,this._parents,this._name,this._id)},selection:function(){return new Ir(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Br(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=mr(a,e);dr(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qr(r,this._parents,t,n)},call:Vr.call,nodes:Vr.nodes,node:Vr.node,size:Vr.size,empty:Vr.empty,each:Vr.each,on:function(t,e){var n=this._id;return arguments.length<2?mr(this.node(),n).on.on(t):this.each(Ur(n,t,e))},attr:function(t,e){var n=jt(t),r="transform"===n?Xn:_r;return this.attrTween(t,"function"==typeof e?(n.local?Mr:$r)(n,r,wr(this,"attr."+t,e)):null==e?(n.local?xr:br)(n):(n.local?Tr:kr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=jt(t);return this.tween(n,(r.local?Cr:Sr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?zn:_r;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=ge(this,t),a=(this.style.removeProperty(t),ge(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Or(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=ge(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=ge(this,t)),a===l?null:a===r&&l===o?i:(o=l,i=e(r=a,s))}}(t,r,wr(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var l=pr(this,t),c=l.on,u=null==l.value[a]?i||(i=Or(e)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=ge(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Yr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(wr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Wr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=mr(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?yr:vr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Er:Dr)(e,t)):mr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Lr:Hr)(e,t)):mr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(jr(e,t)):mr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;pr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=pr(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:Vr[Symbol.iterator]};var zr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Xr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ve.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},Ve.prototype.transition=function(t){var e,n;t instanceof qr?(e=t._id,t=t._name):(e=Br(),(n=zr).time=rr(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&dr(a,t,e,c,s,n||Xr(a,e));return new qr(r,this._parents,t,e)};var Zr={},Jr={};function Gr(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Qr(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Kr(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function to(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Kr(-t,6):t>9999?"+"+Kr(t,6):Kr(t,4)}(t.getUTCFullYear())+"-"+Kr(t.getUTCMonth()+1,2)+"-"+Kr(t.getUTCDate(),2)+(o?"T"+Kr(e,2)+":"+Kr(n,2)+":"+Kr(r,2)+"."+Kr(o,3)+"Z":r?"T"+Kr(e,2)+":"+Kr(n,2)+":"+Kr(r,2)+"Z":n||e?"T"+Kr(e,2)+":"+Kr(n,2)+"Z":"")}var eo=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,a=0,s=0,l=i<=0,c=!1;function u(){if(l)return Jr;if(c)return c=!1,Zr;var e,r,o=a;if(34===t.charCodeAt(o)){for(;a++<i&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=i?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(o+1,e-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(o,e)}return l=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=u())!==Jr;){for(var h=[];r!==Zr&&r!==Jr;)h.push(r),r=u();e&&null==(h=e(h,s++))||o.push(h)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?to(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=Gr(t);return function(r,o){return e(n(r),o,t)}}(t,e):Gr(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=Qr(e)),[n.map(a).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Qr(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:a}}(","),no=eo.parse;function ro(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function oo(t,e){return fetch(t,e).then(ro)}var io,ao=(io=no,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),oo(t,e).then((function(t){return io(t,n)}))});function so(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,s,l,c,u,h,f,d=t._root,g={data:r},p=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((c=e>=(i=(p+y)/2))?p=i:y=i,(u=n>=(a=(m+v)/2))?m=a:v=a,o=d,!(d=d[h=u<<1|c]))return o[h]=g,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return g.next=d,o?o[h]=g:t._root=g,t;do{o=o?o[h]=new Array(4):t._root=new Array(4),(c=e>=(i=(p+y)/2))?p=i:y=i,(u=n>=(a=(m+v)/2))?m=a:v=a}while((h=u<<1|c)==(f=(l>=a)<<1|s>=i));return o[f]=d,o[h]=g,t}function lo(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function co(t){return t[0]}function uo(t){return t[1]}function ho(t,e,n){var r=new fo(null==e?co:e,null==n?uo:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function fo(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function go(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var po=ho.prototype=fo.prototype;function mo(t){return function(){return t}}function yo(t){return 1e-6*(t()-.5)}function vo(t){return t.x+t.vx}function wo(t){return t.y+t.vy}po.copy=function(){var t,e,n=new fo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=go(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=go(e));return n},po.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return so(this.cover(e,n),e,n,t)},po.addAll=function(t){var e,n,r,o,i=t.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,s[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>h&&(h=o));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<i;++n)so(this,a[n],s[n],t[n]);return this},po.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,s,l=o-n||1,c=this._root;n>t||t>=o||r>e||e>=i;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},po.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},po.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},po.find=function(t,e,n){var r,o,i,a,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,g=[],p=this._root;for(p&&g.push(new lo(p,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=g.pop();)if(!(!(p=l.node)||(o=l.x0)>f||(i=l.y0)>d||(a=l.x1)<u||(s=l.y1)<h))if(p.length){var m=(o+a)/2,y=(i+s)/2;g.push(new lo(p[3],m,y,a,s),new lo(p[2],o,y,m,s),new lo(p[1],m,i,a,y),new lo(p[0],o,i,m,y)),(c=(e>=y)<<1|t>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var v=t-+this._x.call(null,p.data),w=e-+this._y.call(null,p.data),_=v*v+w*w;if(_<n){var b=Math.sqrt(n=_);u=t-b,h=e-b,f=t+b,d=e+b,r=p.data}}return r},po.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,s,l,c,u,h,f,d=this._root,g=this._x0,p=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(s=(g+m)/2))?g=s:m=s,(u=a>=(l=(p+y)/2))?p=l:y=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[h]=o:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=o,this)},po.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},po.root=function(){return this._root},po.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},po.visit=function(t){var e,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new lo(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,o=e.y0,i=e.x1,a=e.y1)&&l.length){var c=(r+i)/2,u=(o+a)/2;(n=l[3])&&s.push(new lo(n,c,u,i,a)),(n=l[2])&&s.push(new lo(n,r,u,c,a)),(n=l[1])&&s.push(new lo(n,c,o,i,u)),(n=l[0])&&s.push(new lo(n,r,o,c,u))}return this},po.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new lo(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(i=o[0])&&n.push(new lo(i,a,s,u,h)),(i=o[1])&&n.push(new lo(i,u,s,l,h)),(i=o[2])&&n.push(new lo(i,a,h,u,c)),(i=o[3])&&n.push(new lo(i,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},po.x=function(t){return arguments.length?(this._x=t,this):this._x},po.y=function(t){return arguments.length?(this._y=t,this):this._y};const _o=4294967296;var bo=Math.PI*(3-Math.sqrt(5));function xo(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=ar(h),c=Nt("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%_o)/_o}();function h(){f(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(i-n)*o,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*bo;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(g),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(g),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,g(n)),e):s.get(t)},find:function(e,n,r){var o,i,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(o=e-(s=t[c]).x)*o+(i=n-s.y)*i)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function ko(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function To(t){return(t=ko(Math.abs(t)))?t[1]:NaN}var $o,Mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ao(t){if(!(e=Mo.exec(t)))throw new Error("invalid format: "+t);var e;return new No({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function No(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Co(t,e){var n=ko(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Ao.prototype=No.prototype,No.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var So={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Co(100*t,e),r:Co,s:function(t,e){var n=ko(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-($o=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ko(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Eo(t){return t}var Do,Lo,Ho,jo=Array.prototype.map,Uo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Io(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Eo:(e=jo.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(t.substring(o-=s,o+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Eo:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(jo.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ao(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):So[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===f?o:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===f?i:/[%p]/.test(v)?l:"",b=So[v],x=/[defgprs%]/.test(v);function k(t){var o,i,l,f=w,k=_;if("c"===v)k=b(t)+k,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===v?Uo[8+$o/3]:"")+k+(T&&"("===h?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(l=t.charCodeAt(o))||l>57){k=(46===l?a+t.slice(o+1):t.slice(o))+k,t=t.slice(0,o);break}}p&&!d&&(t=r(t,1/0));var $=f.length+t.length+k.length,M=$<g?new Array(g-$+1).join(e):"";switch(p&&d&&(t=r(M+t,M.length?g-k.length:1/0),M=""),n){case"<":t=f+t+k+M;break;case"=":t=f+M+t+k;break;case"^":t=M.slice(0,$=M.length>>1)+f+t+k+M.slice($);break;default:t=M+f+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ao(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(To(e)/3))),o=Math.pow(10,-r),i=Uo[8+r/3];return function(t){return n(o*t)+i}}}}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Do=Io({thousands:",",grouping:[3],currency:["$",""]}),Lo=Do.format,Ho=Do.formatPrefix;const Fo=Symbol("implicit");function Yo(){var t=new yt,e=[],n=[],r=Fo;function o(o){let i=t.get(o);if(void 0===i){if(r!==Fo)return r;t.set(o,i=e.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new yt;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Yo(e,n).unknown(r)},Oo.apply(o,arguments),o}function Po(){var t,e,n=Yo().unknown(void 0),r=n.domain,o=n.range,i=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<i,f=h?a:i,d=h?i:a;t=(d-f)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*u,e=t*(1-l),s&&(f=Math.round(f),e=Math.round(e));var g=Mt(n).map((function(e){return f+t*e}));return o(h?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([i,a]=t,i=+i,a=+a,h()):[i,a]},n.rangeRound=function(t){return[i,a]=t,i=+i,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Po(r(),[i,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Oo.apply(h(),arguments)}function Wo(t){return+t}var Ro=[0,1];function qo(t){return t}function Bo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Vo(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Bo(o,r),i=n(a,i)):(r=Bo(r,o),i=n(i,a)),function(t){return i(r(t))}}function zo(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Bo(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=pt(t,e,1,r)-1;return i[n](o[n](e))}}function Xo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zo(){var t,e,n,r,o,i,a=Ro,s=Ro,l=On,c=qo;function u(){var t=Math.min(a.length,s.length);return c!==qo&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?zo:Vo,o=i=null,h}function h(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((i||(i=r(s,a.map(t),Ln)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Wo),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=Fn,u()},h.clamp=function(t){return arguments.length?(c=!!t||qo,u()):c!==qo},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Jo(){return Zo()(qo,qo)}function Go(t,e,n,r){var o,i=Tt(t,e,n);switch((r=Ao(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(To(e)/3)))-To(Math.abs(t)))}(i,a))||(r.precision=o),Ho(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,To(e)-To(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-To(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Lo(r)}function Qo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=kt(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Go(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,l=i[a],c=i[s],u=10;for(c<l&&(o=l,l=c,c=o,o=a,a=s,s=o);u-- >0;){if((o=kt(l,c,n))===r)return i[a]=l,i[s]=c,e(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function Ko(){var t=Jo();return t.copy=function(){return Xo(t,Ko())},Oo.apply(t,arguments),Qo(t)}function ti(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ei(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ni(t){return t<0?-t*t:t*t}function ri(t){var e=t(qo,qo),n=1;function r(){return 1===n?t(qo,qo):.5===n?t(ei,ni):t(ti(n),ti(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Qo(e)}function oi(){var t=ri(Zo());return t.copy=function(){return Xo(t,oi()).exponent(t.exponent())},Oo.apply(t,arguments),t}var ii=new Date,ai=new Date;function si(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return s},o.filter=function(n){return si((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return ii.setTime(+e),ai.setTime(+r),t(ii),t(ai),Math.floor(n(ii,ai))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var li=si((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));li.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?si((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):li:null};var ci=li;const ui=1e3,hi=6e4,fi=36e5,di=864e5,gi=6048e5,pi=2592e6,mi=31536e6;var yi=si((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*ui)}),(function(t,e){return(e-t)/ui}),(function(t){return t.getUTCSeconds()})),vi=yi,wi=si((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui)}),(function(t,e){t.setTime(+t+e*hi)}),(function(t,e){return(e-t)/hi}),(function(t){return t.getMinutes()})),_i=wi,bi=si((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui-t.getMinutes()*hi)}),(function(t,e){t.setTime(+t+e*fi)}),(function(t,e){return(e-t)/fi}),(function(t){return t.getHours()})),xi=bi,ki=si((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/di),(t=>t.getDate()-1)),Ti=ki;function $i(t){return si((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/gi}))}var Mi=$i(0),Ai=$i(1);$i(2),$i(3);var Ni=$i(4);$i(5),$i(6);var Ci=si((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Si=Ci,Ei=si((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ei.every=function(t){return isFinite(t=Math.floor(t))&&t>0?si((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Di=Ei,Li=si((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*hi)}),(function(t,e){return(e-t)/hi}),(function(t){return t.getUTCMinutes()})),Hi=Li,ji=si((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*fi)}),(function(t,e){return(e-t)/fi}),(function(t){return t.getUTCHours()})),Ui=ji,Ii=si((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/di}),(function(t){return t.getUTCDate()-1})),Oi=Ii;function Fi(t){return si((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/gi}))}var Yi=Fi(0),Pi=Fi(1);Fi(2),Fi(3);var Wi=Fi(4);Fi(5),Fi(6);var Ri=si((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),qi=Ri,Bi=si((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Bi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?si((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Vi=Bi;function zi(t,e,n,r,o,i){const a=[[vi,1,ui],[vi,5,5e3],[vi,15,15e3],[vi,30,3e4],[i,1,hi],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,fi],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,di],[r,2,1728e5],[n,1,gi],[e,1,pi],[e,3,7776e6],[t,1,mi]];function s(e,n,r){const o=Math.abs(n-e)/r,i=dt((([,,t])=>t)).right(a,o);if(i===a.length)return t.every(Tt(e/mi,n/mi,r));if(0===i)return ci.every(Math.max(Tt(e,n,r),1));const[s,l]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:s(t,e,n),i=o?o.range(t,+e+1):[];return r?i.reverse():i},s]}zi(Vi,qi,Yi,Oi,Ui,Hi);const[Xi,Zi]=zi(Di,Si,Mi,Ti,xi,_i);function Ji(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Ki,ta,ea,na={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,oa=/^%/,ia=/[\\^$*+?|[\]().{}]/g;function aa(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function sa(t){return t.replace(ia,"\\$&")}function la(t){return new RegExp("^(?:"+t.map(sa).join("|")+")","i")}function ca(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ua(t,e,n){var r=ra.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ha(t,e,n){var r=ra.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function da(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pa(t,e,n){var r=ra.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ma(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ya(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function va(t,e,n){var r=ra.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function wa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _a(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=ra.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ka(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ta(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $a(t,e,n){var r=ra.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ma(t,e,n){var r=ra.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Aa(t,e,n){var r=oa.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Na(t,e,n){var r=ra.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ca(t,e,n){var r=ra.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Sa(t,e){return aa(t.getDate(),e,2)}function Ea(t,e){return aa(t.getHours(),e,2)}function Da(t,e){return aa(t.getHours()%12||12,e,2)}function La(t,e){return aa(1+Ti.count(Di(t),t),e,3)}function Ha(t,e){return aa(t.getMilliseconds(),e,3)}function ja(t,e){return Ha(t,e)+"000"}function Ua(t,e){return aa(t.getMonth()+1,e,2)}function Ia(t,e){return aa(t.getMinutes(),e,2)}function Oa(t,e){return aa(t.getSeconds(),e,2)}function Fa(t){var e=t.getDay();return 0===e?7:e}function Ya(t,e){return aa(Mi.count(Di(t)-1,t),e,2)}function Pa(t){var e=t.getDay();return e>=4||0===e?Ni(t):Ni.ceil(t)}function Wa(t,e){return t=Pa(t),aa(Ni.count(Di(t),t)+(4===Di(t).getDay()),e,2)}function Ra(t){return t.getDay()}function qa(t,e){return aa(Ai.count(Di(t)-1,t),e,2)}function Ba(t,e){return aa(t.getFullYear()%100,e,2)}function Va(t,e){return aa((t=Pa(t)).getFullYear()%100,e,2)}function za(t,e){return aa(t.getFullYear()%1e4,e,4)}function Xa(t,e){var n=t.getDay();return aa((t=n>=4||0===n?Ni(t):Ni.ceil(t)).getFullYear()%1e4,e,4)}function Za(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+aa(e/60|0,"0",2)+aa(e%60,"0",2)}function Ja(t,e){return aa(t.getUTCDate(),e,2)}function Ga(t,e){return aa(t.getUTCHours(),e,2)}function Qa(t,e){return aa(t.getUTCHours()%12||12,e,2)}function Ka(t,e){return aa(1+Oi.count(Vi(t),t),e,3)}function ts(t,e){return aa(t.getUTCMilliseconds(),e,3)}function es(t,e){return ts(t,e)+"000"}function ns(t,e){return aa(t.getUTCMonth()+1,e,2)}function rs(t,e){return aa(t.getUTCMinutes(),e,2)}function os(t,e){return aa(t.getUTCSeconds(),e,2)}function is(t){var e=t.getUTCDay();return 0===e?7:e}function as(t,e){return aa(Yi.count(Vi(t)-1,t),e,2)}function ss(t){var e=t.getUTCDay();return e>=4||0===e?Wi(t):Wi.ceil(t)}function ls(t,e){return t=ss(t),aa(Wi.count(Vi(t),t)+(4===Vi(t).getUTCDay()),e,2)}function cs(t){return t.getUTCDay()}function us(t,e){return aa(Pi.count(Vi(t)-1,t),e,2)}function hs(t,e){return aa(t.getUTCFullYear()%100,e,2)}function fs(t,e){return aa((t=ss(t)).getUTCFullYear()%100,e,2)}function ds(t,e){return aa(t.getUTCFullYear()%1e4,e,4)}function gs(t,e){var n=t.getUTCDay();return aa((t=n>=4||0===n?Wi(t):Wi.ceil(t)).getUTCFullYear()%1e4,e,4)}function ps(){return"+0000"}function ms(){return"%"}function ys(t){return+t}function vs(t){return Math.floor(+t/1e3)}function ws(t){return new Date(t)}function _s(t){return t instanceof Date?+t:+new Date(+t)}function bs(t,e,n,r,o,i,a,s,l,c){var u=Jo(),h=u.invert,f=u.domain,d=c(".%L"),g=c(":%S"),p=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),w=c("%B"),_=c("%Y");function b(t){return(l(t)<t?d:s(t)<t?g:a(t)<t?p:i(t)<t?m:r(t)<t?o(t)<t?y:v:n(t)<t?w:_)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(Array.from(t,_s)):f().map(ws)},u.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?b:c(e)},u.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],a=t[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}(n,t)):u},u.copy=function(){return Xo(u,bs(t,e,n,r,o,i,a,s,l,c))},u}function xs(){return Oo.apply(bs(Xi,Zi,Di,Si,Mi,Ti,xi,_i,vi,ta).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ks(e){let n;return{c(){n=$("header"),n.innerHTML='<nav role="navigation" class="essential-nav svelte-gccujm"><div id="menuToggle" class="svelte-gccujm"><input type="checkbox" class="svelte-gccujm"/> \n\t\t\t\n\t\t\t<span class="svelte-gccujm"></span> \n\t\t\t<span class="svelte-gccujm"></span> \n\t\t\t<span class="svelte-gccujm"></span> \n\t\t\t<ul id="menu" class="svelte-gccujm"><a href="https://mediainnovation.camd.northeastern.edu/2021/masters/campbell/index.html" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Anna Campbell</li></a> \n\n\t\t\t\t<a href="https://mediainnovation.camd.northeastern.edu/2021/masters/chuan/" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Sam Chuan</li></a> \n\n\t\t\t\t<a href="https://mediainnovation.camd.northeastern.edu/2021/masters/corbin/" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Ryan Corbin</li></a> \n\n\t\t\t\t<a href="https://mediainnovation.camd.northeastern.edu/2021/masters/kauffman/" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Brennan Kauffman</li></a> \n\n\t\t\t\t<a href="https://mediainnovation.camd.northeastern.edu/2021/masters/perez/" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Sofia Perez Arias</li></a> \n\n\t\t\t\t<a href="https://yuriko-schumacher.github.io/mass-shooting/" class="svelte-gccujm"><li class="svelte-gccujm">Yuriko Schumacher</li></a> \n\n\t\t\t\t<a href="https://mattewolfinger.github.io/" target="_blank" class="svelte-gccujm"><li class="svelte-gccujm">Matt Wolfinger</li></a></ul></div> \n    <a href="https://mediainnovation.camd.northeastern.edu/2021/masters/" class="svelte-gccujm"><div class="logo svelte-gccujm"></div></a></nav>'},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}!function(t){Ki=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=la(o),u=ca(o),h=la(i),f=ca(i),d=la(a),g=ca(a),p=la(s),m=ca(s),y=la(l),v=ca(l),w={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Sa,e:Sa,f:ja,g:Va,G:Xa,H:Ea,I:Da,j:La,L:Ha,m:Ua,M:Ia,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ys,s:vs,S:Oa,u:Fa,U:Ya,V:Wa,w:Ra,W:qa,x:null,X:null,y:Ba,Y:za,Z:Za,"%":ms},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ja,e:Ja,f:es,g:fs,G:gs,H:Ga,I:Qa,j:Ka,L:ts,m:ns,M:rs,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ys,s:vs,S:os,u:is,U:as,V:ls,w:cs,W:us,x:null,X:null,y:hs,Y:ds,Z:ps,"%":ms},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:_a,e:_a,f:Ma,g:ma,G:pa,H:xa,I:xa,j:ba,L:$a,m:wa,M:ka,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:va,Q:Na,s:Ca,S:Ta,u:ha,U:fa,V:da,w:ua,W:ga,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:ma,Y:pa,Z:ya,"%":Aa};function x(t,e){return function(n){var r,o,i,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=na[r=t.charAt(++s)])?r=t.charAt(++s):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var r,o,i=Qi(1900,void 0,1);if(T(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Gi(Qi(i.y,0,1))).getUTCDay(),r=o>4||0===o?Pi.ceil(r):Pi(r),r=Oi.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Ji(Qi(i.y,0,1))).getDay(),r=o>4||0===o?Ai.ceil(r):Ai(r),r=Ti.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Gi(Qi(i.y,0,1)).getUTCDay():Ji(Qi(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Gi(i)):Ji(i)}}function T(t,e,n,r){for(var o,i,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=b[o in na?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),ta=Ki.format,ea=Ki.parse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class Ts extends ht{constructor(t){super(),ut(this,t,null,ks,i,{})}}function $s(e){let n;return{c(){n=$("article"),n.innerHTML="<h1>Which mass shootings are more newsworthy, and why?</h1> \n  <p>By Yuriko Schumacher</p>",E(n,"class","svelte-15n6jql")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}class Ms extends ht{constructor(t){super(),ut(this,t,null,$s,i,{})}}function As(t){let e,n;return{c(){e=$("img"),E(e,"width","450"),s(e.src,n=t[0])||E(e,"src",n),E(e,"alt","Copy of the first major reporting of the selected shooting by The New York Times")},m(t,n){x(t,e,n)},p(t,r){1&r&&!s(e.src,n=t[0])&&E(e,"src",n)},d(t){t&&k(e)}}}function Ns(e){let n;return{c(){n=$("div"),n.innerHTML="<p>Image is not available.</p>",E(n,"class","placeholder svelte-g1nc42")},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function Cs(e){let n;function r(t,e){return t[1]?Ns:As}let o=r(e),i=o(e);return{c(){n=$("div"),i.c(),E(n,"class","svelte-g1nc42")},m(t,e){x(t,n,e),i.m(n,null)},p(t,[e]){o===(o=r(t))&&i?i.p(t,e):(i.d(1),i=o(t),i&&(i.c(),i.m(n,null)))},i:t,o:t,d(t){t&&k(n),i.d()}}}function Ss(t,e,n){let r,{data:o}=e;const i=[47,72,87,89,92,96,98,102,103,104,107,108,109,112,118,119,122];let a;return t.$$set=t=>{"data"in t&&n(2,o=t.data)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=`./assets/copies/${o.id}.svg`),4&t.$$.dirty&&n(1,a=i.includes(o.id))},[r,a,o]}class Es extends ht{constructor(t){super(),ut(this,t,Ss,Cs,i,{data:2})}}let Ds;function Ls(t){return Ds||(Ds=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.isIntersecting?"enterViewport":"exitViewport";t.target.dispatchEvent(new CustomEvent(e))}))}))),Ds.observe(t),{destroy(){Ds.unobserve(t)}}}const{window:Hs}=ot,js=t=>({}),Us=t=>({}),Is=t=>({}),Os=t=>({});function Fs(t){let e,n,r,o,i,a,s,l,u;z(t[21]);const g=t[20].background,p=c(g,t,t[19],Os),m=t[20].foreground,y=c(m,t,t[19],Us);return{c(){e=$("svelte-scroller-outer"),n=$("svelte-scroller-background-container"),r=$("svelte-scroller-background"),p&&p.c(),i=N(),a=$("svelte-scroller-foreground"),y&&y.c(),D(r,"class","svelte-xdbafy"),D(n,"class","background-container svelte-xdbafy"),D(n,"style",o=""+(t[5]+t[4])),D(a,"class","svelte-xdbafy"),D(e,"class","svelte-xdbafy")},m(o,c){x(o,e,c),b(e,n),b(n,r),p&&p.m(r,null),t[22](r),b(e,i),b(e,a),y&&y.m(a,null),t[23](a),t[24](e),s=!0,l||(u=S(Hs,"resize",t[21]),l=!0)},p(t,e){p&&p.p&&(!s||524288&e[0])&&f(p,g,t,t[19],s?h(g,t[19],e,Is):d(t[19]),Os),(!s||48&e[0]&&o!==(o=""+(t[5]+t[4])))&&D(n,"style",o),y&&y.p&&(!s||524288&e[0])&&f(y,m,t,t[19],s?h(m,t[19],e,js):d(t[19]),Us)},i(t){s||(et(p,t),et(y,t),s=!0)},o(t){nt(p,t),nt(y,t),s=!1},d(n){n&&k(e),p&&p.d(n),t[22](null),y&&y.d(n),t[23](null),t[24](null),l=!1,u()}}}const Ys=[];let Ps;if("undefined"!=typeof window){const t=()=>Ys.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),r=Ys.indexOf(n);e.isIntersecting?-1===r&&Ys.push(n):(n(),-1!==r&&Ys.splice(r,1))}))}),{rootMargin:"400px 0px"});Ps={add:({outer:n,update:r})=>{const{top:o,bottom:i}=n.getBoundingClientRect();o<window.innerHeight&&i>0&&Ys.push(r),t.set(n,r),e.observe(n)},remove:({outer:n,update:r})=>{const o=Ys.indexOf(r);-1!==o&&Ys.splice(o,1),t.delete(n),e.unobserve(n)}}}else Ps={add:({update:t})=>{Ys.push(t)},remove:({update:t})=>{const e=Ys.indexOf(t);-1!==e&&Ys.splice(e,1)}};function Ws(t,e,n){let r,o,i,a,s,l,c,u,h,f,d,{$$slots:g={},$$scope:p}=e,{top:m=0}=e,{bottom:y=1}=e,{threshold:v=.5}=e,{query:w="section"}=e,{parallax:_=!1}=e,{index:b=0}=e,{count:x=0}=e,{offset:k=0}=e,{progress:T=0}=e,{visible:$=!1}=e,M=0,A=0,N=1;function C(){if(!c)return;const t=l.getBoundingClientRect();h=t.left,n(18,N=t.right-h);const e=c.getBoundingClientRect(),a=u.getBoundingClientRect();n(10,$=e.top<M&&e.bottom>0);const s=e.bottom-e.top,g=a.bottom-a.top,p=o-r;n(9,T=(r-e.top)/(s-p)),T<=0?(n(17,A=0),n(16,d=!1)):T>=1?(n(17,A=_?s-g:s-p),n(16,d=!1)):(n(17,A=_?Math.round(r-T*(g-p)):r),n(16,d=!0));for(let t=0;t<f.length;t++){const r=f[t],{top:o}=r.getBoundingClientRect(),a=f[t+1],s=a?a.getBoundingClientRect().top:e.bottom;if(n(8,k=(i-o)/(s-o)),s>=i){n(6,b=t);break}}}return Y((()=>{f=c.querySelectorAll(w),n(7,x=f.length),C();const t={outer:l,update:C};return Ps.add(t),()=>Ps.remove(t)})),t.$$set=t=>{"top"in t&&n(11,m=t.top),"bottom"in t&&n(12,y=t.bottom),"threshold"in t&&n(13,v=t.threshold),"query"in t&&n(14,w=t.query),"parallax"in t&&n(15,_=t.parallax),"index"in t&&n(6,b=t.index),"count"in t&&n(7,x=t.count),"offset"in t&&n(8,k=t.offset),"progress"in t&&n(9,T=t.progress),"visible"in t&&n(10,$=t.visible),"$$scope"in t&&n(19,p=t.$$scope)},t.$$.update=()=>{2049&t.$$.dirty[0]&&(r=Math.round(m*M)),4097&t.$$.dirty[0]&&(o=Math.round(y*M)),8193&t.$$.dirty[0]&&(i=Math.round(v*M)),47104&t.$$.dirty[0]&&C(),196608&t.$$.dirty[0]&&n(5,a=`\n\t\tposition: ${d?"fixed":"absolute"};\n\t\ttop: 0;\n\t\ttransform: translate(0, ${A}px);\n\t\tz-index: 1;\n\t`),327680&t.$$.dirty[0]&&n(4,s=d?`width:${N}px;`:"")},[M,l,c,u,s,a,b,x,k,T,$,m,y,v,w,_,d,A,N,p,g,function(){n(0,M=Hs.innerHeight)},function(t){W[t?"unshift":"push"]((()=>{u=t,n(3,u)}))},function(t){W[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},function(t){W[t?"unshift":"push"]((()=>{l=t,n(1,l)}))}]}class Rs extends ht{constructor(t){super(),ut(this,t,Ws,Fs,i,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}const qs=[];function Bs(t){return"[object Date]"===Object.prototype.toString.call(t)}function Vs(t,e,n,r){if("number"==typeof n||Bs(n)){const o=r-n,i=(n-e)/(t.dt||1/60),a=(i+(t.opts.stiffness*o-t.opts.damping*i)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,Bs(n)?new Date(n.getTime()+a):n+a)}if(Array.isArray(n))return n.map(((o,i)=>Vs(t,e[i],n[i],r[i])));if("object"==typeof n){const o={};for(const i in n)o[i]=Vs(t,e[i],n[i],r[i]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function zs(e,n={}){const r=function(e,n=t){let r;const o=new Set;function a(t){if(i(e,t)&&(e=t,r)){const t=!qs.length;for(const t of o)t[1](),qs.push(t,e);if(t){for(let t=0;t<qs.length;t+=2)qs[t][0](qs[t+1]);qs.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,s=t){const l=[i,s];return o.add(l),1===o.size&&(r=n(a)||t),i(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}(e),{stiffness:o=.15,damping:a=.8,precision:s=.01}=n;let l,c,u,h=e,f=e,d=1,g=0,p=!1;function m(t,n={}){f=t;const o=u={};if(null==e||n.hard||b.stiffness>=1&&b.damping>=1)return p=!0,l=y(),h=t,r.set(e=f),Promise.resolve();if(n.soft){const t=!0===n.soft?.5:+n.soft;g=1/(60*t),d=0}return c||(l=y(),p=!1,c=function(t){let e;return 0===w.size&&v(_),{promise:new Promise((n=>{w.add(e={c:t,f:n})})),abort(){w.delete(e)}}}((t=>{if(p)return p=!1,c=null,!1;d=Math.min(d+g,1);const n={inv_mass:d,opts:b,settled:!0,dt:60*(t-l)/1e3},o=Vs(n,h,e,f);return l=t,h=e,r.set(e=o),n.settled&&(c=null),!n.settled}))),new Promise((t=>{c.promise.then((()=>{o===u&&t()}))}))}const b={set:m,update:(t,n)=>m(t(f,e),n),subscribe:r.subscribe,stiffness:o,damping:a,precision:s};return b}function Xs(t,e,n){const r=t.slice();return r[43]=e[n].x,r[44]=e[n].y,r[6]=e[n].height,r[45]=e[n].opacity,r[46]=e[n].r,r[47]=e[n].g,r[48]=e[n].b,r[49]=e[n].id,r}function Zs(t,e,n){const r=t.slice();return r[52]=e[n].cx,r[53]=e[n].cy,r[54]=e[n].cr,r[55]=e[n].strokeWidth,r[45]=e[n].opacity,r[46]=e[n].r,r[47]=e[n].g,r[48]=e[n].b,r[49]=e[n].id,r}function Js(t,e,n){const r=t.slice();return r[60]=e[n],r[62]=n,r}function Gs(t,e,n){const r=t.slice();return r[60]=e[n],r}function Qs(t,e,n){const r=t.slice();return r[15]=e[n],r}function Ks(t,e,n){const r=t.slice();return r[65]=e[n],r}function tl(t,e,n){const r=t.slice();return r[40]=e[n],r}function el(t){let e,n,r,o,i,a,s,l,c,u,h,f=(t[1]<=3?t[65]:t[18](t[16](t[65])))+"";return{c(){e=M("text"),n=A(f),a=M("line"),E(e,"x",r=t[1]<=3?t[4](t[65]):t[4](t[16](t[65]))),E(e,"y",o=t[2]+90),E(e,"fill","white"),E(e,"text-anchor","middle"),E(e,"fill-opacity",i=t[1]<=3?t[65]%5==0?1:0:1),E(a,"x1",s=t[1]<=3?t[4](t[65]):t[4](t[16](t[65]))),E(a,"y1",l=t[2]+70),E(a,"x2",c=t[1]<=3?t[4](t[65]):t[4](t[16](t[65]))),E(a,"y2",u=t[2]+80),E(a,"stroke-width",h=t[65]%5==0?1.5:0),E(a,"stroke","white"),E(a,"stroke-opacity","0.2")},m(t,r){x(t,e,r),b(e,n),x(t,a,r)},p(t,d){10&d[0]&&f!==(f=(t[1]<=3?t[65]:t[18](t[16](t[65])))+"")&&L(n,f),26&d[0]&&r!==(r=t[1]<=3?t[4](t[65]):t[4](t[16](t[65])))&&E(e,"x",r),4&d[0]&&o!==(o=t[2]+90)&&E(e,"y",o),10&d[0]&&i!==(i=t[1]<=3?t[65]%5==0?1:0:1)&&E(e,"fill-opacity",i),26&d[0]&&s!==(s=t[1]<=3?t[4](t[65]):t[4](t[16](t[65])))&&E(a,"x1",s),4&d[0]&&l!==(l=t[2]+70)&&E(a,"y1",l),26&d[0]&&c!==(c=t[1]<=3?t[4](t[65]):t[4](t[16](t[65])))&&E(a,"x2",c),4&d[0]&&u!==(u=t[2]+80)&&E(a,"y2",u),8&d[0]&&h!==(h=t[65]%5==0?1.5:0)&&E(a,"stroke-width",h)},d(t){t&&k(e),t&&k(a)}}}function nl(t){let e,n,r=t[24],o=[];for(let e=0;e<r.length;e+=1)o[e]=ol(Gs(t,r,e));let i=t[1]>=6&&il(t);return{c(){e=M("g");for(let t=0;t<o.length;t+=1)o[t].c();i&&i.c(),n=C(),E(e,"class","y-axis-grids")},m(t,r){x(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);i&&i.m(t,r),x(t,n,r)},p(t,a){if(18481184&a[0]){let n;for(r=t[24],n=0;n<r.length;n+=1){const i=Gs(t,r,n);o[n]?o[n].p(i,a):(o[n]=ol(i),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}t[1]>=6?i?i.p(t,a):(i=il(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){t&&k(e),T(o,t),i&&i.d(t),t&&k(n)}}}function rl(t){let e,n=t[22],r=[];for(let e=0;e<n.length;e+=1)r[e]=sl(Qs(t,n,e));return{c(){e=M("g");for(let t=0;t<r.length;t+=1)r[t].c();E(e,"class","axis-ticks svelte-64ul6b")},m(t,n){x(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(5767200&o[0]){let i;for(n=t[22],i=0;i<n.length;i+=1){const a=Qs(t,n,i);r[i]?r[i].p(a,o):(r[i]=sl(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&k(e),T(r,t)}}}function ol(t){let e,n,r,o,i,a,s,l,c,u=t[17](t[60])+"";return{c(){e=M("line"),a=M("text"),s=A(u),E(e,"x1",n=t[19].l),E(e,"y1",r=t[5](t[60])),E(e,"x2",o=t[20]-t[19].r),E(e,"y2",i=t[5](t[60])),E(e,"stroke","gray"),E(e,"stroke-opacity","0.5"),E(e,"stroke-width","0.5"),E(a,"class","axis-ticks svelte-64ul6b"),E(a,"x",l=t[19].l-5),E(a,"y",c=t[5](t[60])+5),E(a,"fill","white"),E(a,"text-anchor","end")},m(t,n){x(t,e,n),x(t,a,n),b(a,s)},p(t,n){32&n[0]&&r!==(r=t[5](t[60]))&&E(e,"y1",r),32&n[0]&&i!==(i=t[5](t[60]))&&E(e,"y2",i),32&n[0]&&c!==(c=t[5](t[60])+5)&&E(a,"y",c)},d(t){t&&k(e),t&&k(a)}}}function il(t){let e,n=t[25],r=[];for(let e=0;e<n.length;e+=1)r[e]=al(Js(t,n,e));return{c(){e=M("g");for(let t=0;t<r.length;t+=1)r[t].c();E(e,"class","radius-legend")},m(t,n){x(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(42467328&o[0]){let i;for(n=t[25],i=0;i<n.length;i+=1){const a=Js(t,n,i);r[i]?r[i].p(a,o):(r[i]=al(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&k(e),T(r,t)}}}function al(e){let n,r,o,i,a,s=e[60]+"";return{c(){n=M("circle"),r=M("text"),o=A(s),E(n,"cx",50*e[62]+25),E(n,"cy",e[19].t-20),E(n,"r",e[23](e[60])),E(n,"fill",0===e[60]?"#222222":"#eeeeee"),E(n,"fill-opacity","0.8"),E(n,"stroke","#eeeeee"),E(n,"stroke-width","0.4"),E(r,"class","axis-ticks svelte-64ul6b"),E(r,"x",i=50*e[62]+25),E(r,"y",a=e[19].t),E(r,"fill","white"),E(r,"text-anchor","middle")},m(t,e){x(t,n,e),x(t,r,e),b(r,o)},p:t,d(t){t&&k(n),t&&k(r)}}}function sl(t){let e,n,r,o,i,a,s,l,c,u,h,f=t[15]+"";return{c(){e=M("text"),n=A(f),a=M("line"),E(e,"x",r=t[19].l-5),E(e,"y",o=t[5](t[15])+5),E(e,"fill","white"),E(e,"text-anchor","end"),E(e,"fill-opacity",i=t[15]%5==0?1:0),E(a,"x1",s=t[19].l),E(a,"y1",l=t[5](t[15])),E(a,"x2",c=t[20]-t[19].r),E(a,"y2",u=t[5](t[15])),E(a,"stroke-width",h=t[15]%5==0?1.5:.5),E(a,"stroke","white"),E(a,"stroke-opacity","0.2")},m(t,r){x(t,e,r),b(e,n),x(t,a,r)},p(t,n){32&n[0]&&o!==(o=t[5](t[15])+5)&&E(e,"y",o),32&n[0]&&l!==(l=t[5](t[15]))&&E(a,"y1",l),32&n[0]&&u!==(u=t[5](t[15]))&&E(a,"y2",u)},d(t){t&&k(e),t&&k(a)}}}function ll(t){let e,n,r,o,i,a,s,l;return{c(){e=M("circle"),E(e,"style",n=t[26](t[52],t[53])),E(e,"r",r=t[54]),E(e,"stroke","#cccccc"),E(e,"stroke-width",o=t[55]),E(e,"stroke-opacity",i=t[45]),E(e,"fill",a="rgb("+t[46]+", "+t[47]+", "+t[48]+")"),E(e,"fill-opacity",s=t[45]),E(e,"id",l=t[49])},m(t,n){x(t,e,n)},p(t,c){8192&c[0]&&n!==(n=t[26](t[52],t[53]))&&E(e,"style",n),8192&c[0]&&r!==(r=t[54])&&E(e,"r",r),8192&c[0]&&o!==(o=t[55])&&E(e,"stroke-width",o),8192&c[0]&&i!==(i=t[45])&&E(e,"stroke-opacity",i),8192&c[0]&&a!==(a="rgb("+t[46]+", "+t[47]+", "+t[48]+")")&&E(e,"fill",a),8192&c[0]&&s!==(s=t[45])&&E(e,"fill-opacity",s),8192&c[0]&&l!==(l=t[49])&&E(e,"id",l)},d(t){t&&k(e)}}}function cl(t){let e,n,r,o,i,a;return{c(){e=M("rect"),E(e,"x",n=t[43]),E(e,"y",r=t[44]),E(e,"width","0.5"),E(e,"height",o=t[6]),E(e,"strokewidth","0.5"),E(e,"fill",i="rgb("+t[46]+", "+t[47]+", "+t[48]+")"),H(e,"opacity",t[45]),E(e,"id",a=t[49])},m(t,n){x(t,e,n)},p(t,s){16384&s[0]&&n!==(n=t[43])&&E(e,"x",n),16384&s[0]&&r!==(r=t[44])&&E(e,"y",r),16384&s[0]&&o!==(o=t[6])&&E(e,"height",o),16384&s[0]&&i!==(i="rgb("+t[46]+", "+t[47]+", "+t[48]+")")&&E(e,"fill",i),16384&s[0]&&H(e,"opacity",t[45]),16384&s[0]&&a!==(a=t[49])&&E(e,"id",a)},d(t){t&&k(e)}}}function ul(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v,w,_,N=t[12].y+"",C=t[12].x+"",S=t[3],D=[];for(let e=0;e<S.length;e+=1)D[e]=el(Ks(t,S,e));function H(t,e){return t[1]<3?rl:t[1]>3?nl:void 0}let j=H(t),U=j&&j(t),I=t[13],O=[];for(let e=0;e<I.length;e+=1)O[e]=ll(Zs(t,I,e));let F=t[14],Y=[];for(let e=0;e<F.length;e+=1)Y[e]=cl(Xs(t,F,e));return{c(){e=$("div"),n=M("svg"),r=M("g"),o=M("g"),i=M("text"),a=A(t[11]),s=M("g"),l=M("text"),c=A(N),h=M("text"),f=A(C),g=M("g"),p=M("line");for(let t=0;t<D.length;t+=1)D[t].c();U&&U.c(),w=M("g");for(let t=0;t<O.length;t+=1)O[t].c();_=M("g");for(let t=0;t<Y.length;t+=1)Y[t].c();E(i,"transform","translate(0, 30)"),E(o,"class","chart-title"),E(l,"class","axis-label svelte-64ul6b"),E(l,"transform",u=`translate(15, ${t[2]/2+150}) rotate(-90)`),E(h,"class","axis-label svelte-64ul6b"),E(h,"x",t[21]/2+40),E(h,"y",d=t[2]+120),E(s,"class","axis-titles"),E(p,"x1",t[19].l),E(p,"y1",m=t[6]-t[19].b),E(p,"x2",t[20]-t[19].r),E(p,"y2",y=t[6]-t[19].b),E(p,"stroke-width","1.5"),E(p,"stroke","white"),E(p,"stroke-opacity",v=3===t[1]?0:.2),E(g,"class","axis-ticks svelte-64ul6b"),E(w,"class","circles"),E(_,"class","rects"),E(n,"width",t[20]),E(n,"height",t[6]),E(e,"slot","background"),E(e,"class","background svelte-64ul6b")},m(t,u){x(t,e,u),b(e,n),b(n,r),b(r,o),b(o,i),b(i,a),b(r,s),b(s,l),b(l,c),b(s,h),b(h,f),b(r,g),b(g,p);for(let t=0;t<D.length;t+=1)D[t].m(g,null);U&&U.m(r,null),b(r,w);for(let t=0;t<O.length;t+=1)O[t].m(w,null);b(r,_);for(let t=0;t<Y.length;t+=1)Y[t].m(_,null)},p(t,e){if(2048&e[0]&&L(a,t[11]),4096&e[0]&&N!==(N=t[12].y+"")&&L(c,N),4&e[0]&&u!==(u=`translate(15, ${t[2]/2+150}) rotate(-90)`)&&E(l,"transform",u),4096&e[0]&&C!==(C=t[12].x+"")&&L(f,C),4&e[0]&&d!==(d=t[2]+120)&&E(h,"y",d),64&e[0]&&m!==(m=t[6]-t[19].b)&&E(p,"y1",m),64&e[0]&&y!==(y=t[6]-t[19].b)&&E(p,"y2",y),2&e[0]&&v!==(v=3===t[1]?0:.2)&&E(p,"stroke-opacity",v),327710&e[0]){let n;for(S=t[3],n=0;n<S.length;n+=1){const r=Ks(t,S,n);D[n]?D[n].p(r,e):(D[n]=el(r),D[n].c(),D[n].m(g,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=S.length}if(j===(j=H(t))&&U?U.p(t,e):(U&&U.d(1),U=j&&j(t),U&&(U.c(),U.m(r,w))),67117056&e[0]){let n;for(I=t[13],n=0;n<I.length;n+=1){const r=Zs(t,I,n);O[n]?O[n].p(r,e):(O[n]=ll(r),O[n].c(),O[n].m(w,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=I.length}if(16384&e[0]){let n;for(F=t[14],n=0;n<F.length;n+=1){const r=Xs(t,F,n);Y[n]?Y[n].p(r,e):(Y[n]=cl(r),Y[n].c(),Y[n].m(_,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=F.length}64&e[0]&&E(n,"height",t[6])},d(t){t&&k(e),T(D,t),U&&U.d(),T(O,t),T(Y,t)}}}function hl(e){let n;return{c(){n=$("p"),n.textContent="It was the only shooting happened that year."},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function fl(t){let e,n,r,o,i=t[9].total_by_year+"";return{c(){e=$("p"),n=A("It was one of the "),r=A(i),o=A(" shootings that year.")},m(t,i){x(t,e,i),b(e,n),b(e,r),b(e,o)},p(t,e){512&e[0]&&i!==(i=t[9].total_by_year+"")&&L(r,i)},d(t){t&&k(e)}}}function dl(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,p,m=t[40].rank+"",y=t[40].case+"",v=t[40].year+"",w=t[17](t[40].total_words)+"";return{c(){e=$("tr"),n=$("td"),r=A(m),o=N(),i=$("td"),a=A(y),s=N(),l=$("td"),c=A(v),u=N(),h=$("td"),f=A(w),d=N(),E(n,"class","table__rank svelte-64ul6b"),E(i,"class","table__case svelte-64ul6b"),E(l,"class","table__year svelte-64ul6b"),E(h,"class","table__total-words svelte-64ul6b"),E(e,"class",p=g(t[40].id===t[0]?"tr__selected":"tr__non-selected")+" svelte-64ul6b")},m(t,g){x(t,e,g),b(e,n),b(n,r),b(e,o),b(e,i),b(i,a),b(e,s),b(e,l),b(l,c),b(e,u),b(e,h),b(h,f),b(e,d)},p(t,n){1024&n[0]&&m!==(m=t[40].rank+"")&&L(r,m),1024&n[0]&&y!==(y=t[40].case+"")&&L(a,y),1024&n[0]&&v!==(v=t[40].year+"")&&L(c,v),1024&n[0]&&w!==(w=t[17](t[40].total_words)+"")&&L(f,w),1025&n[0]&&p!==(p=g(t[40].id===t[0]?"tr__selected":"tr__non-selected")+" svelte-64ul6b")&&E(e,"class",p)},d(t){t&&k(e)}}}function gl(t){let e,n,r,o,i,a,s,l,c,u=t[9].case+"",h=t[17](t[9].total_words)+"";return{c(){e=$("p"),e.innerHTML='The <span class="highlighted svelte-64ul6b">one in El Paso, Texas in 2019</span>, where a gunman killed 22, injured 26 in a crowded Walmart store, attracted the most number of words (about 128,000 words) for the past four decades. Many of this attack’s reports were linked to the shooter’s motives, white nationalism and hate against immigrants.',n=N(),r=$("p"),o=A("The shooting you chose, "),i=$("span"),a=A(u),s=A(", was covered with a total of "),l=A(h),c=A(" words."),E(i,"class","selected svelte-64ul6b")},m(t,u){x(t,e,u),x(t,n,u),x(t,r,u),b(r,o),b(r,i),b(i,a),b(r,s),b(r,l),b(r,c)},p(t,e){512&e[0]&&u!==(u=t[9].case+"")&&L(a,u),512&e[0]&&h!==(h=t[17](t[9].total_words)+"")&&L(l,h)},d(t){t&&k(e),t&&k(n),t&&k(r)}}}function pl(t){let e,n,r,o,i,a,s,l=t[9].case+"";return{c(){e=$("p"),n=A("The "),r=$("span"),o=A(l),i=A(" in Texas in 2019, where a gunman killed 22, injured 26 in a crowded Walmart store, attracted the most number of words (about 128,000 words) for the past four decades. Many of this attack’s reports were linked to the shooter’s motives, white nationalism and hate against immigrants."),a=N(),s=$("p"),s.textContent="It was also the one you remembered the most.",E(r,"class","selected svelte-64ul6b")},m(t,l){x(t,e,l),b(e,n),b(e,r),b(r,o),b(e,i),x(t,a,l),x(t,s,l)},p(t,e){512&e[0]&&l!==(l=t[9].case+"")&&L(o,l)},d(t){t&&k(e),t&&k(a),t&&k(s)}}}function ml(t){let e,n,r,o,i,a,s,l,c,u=t[9].case+"",h=0==t[9].total_front_page?"didn't make it to the front page":`had ${t[9].total_front_page} article${1==t[9].total_front_page?"":"s"} on the front page`;return{c(){e=$("p"),e.innerHTML='The shooting that generated the most articles on the front page was <span class="highlighted svelte-64ul6b">Marjory Stoneman Douglas High School shooting</span> in Parkland, Florida in 2018, with a total of 28 articles for the two-week period.',n=N(),r=$("p"),o=A("The shooting you chose, "),i=$("span"),a=A(u),s=A(", "),l=A(h),c=A("."),E(i,"class","selected svelte-64ul6b")},m(t,u){x(t,e,u),x(t,n,u),x(t,r,u),b(r,o),b(r,i),b(i,a),b(r,s),b(r,l),b(r,c)},p(t,e){512&e[0]&&u!==(u=t[9].case+"")&&L(a,u),512&e[0]&&h!==(h=0==t[9].total_front_page?"didn't make it to the front page":`had ${t[9].total_front_page} article${1==t[9].total_front_page?"":"s"} on the front page`)&&L(l,h)},d(t){t&&k(e),t&&k(n),t&&k(r)}}}function yl(e){let n;return{c(){n=$("p"),n.innerHTML='The shooting that generated the most articles on the front page was the one you chose, <span class="selected svelte-64ul6b">Marjory Stoneman Douglas High School shooting</span> in Parkland, Florida in 2018, with a total of 28 articles for the two-week period.'},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function vl(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v,w,_,M,C,S,D,H,j,U,I,O,F,Y,P,W,R,q,B=t[9].case+"",V=t[9].year+"",z=t[9].city+"",X=t[9].state+"";function Z(t,e){return t[9].total_by_year>1?fl:hl}let J=Z(t),G=J(t),Q=t[10],K=[];for(let e=0;e<Q.length;e+=1)K[e]=dl(tl(t,Q,e));function tt(t,e){return 113===t[9].id?pl:gl}let et=tt(t),nt=et(t);function rt(t,e){return 97===t[9].id?yl:ml}let ot=rt(t),it=ot(t);return{c(){e=$("div"),n=$("section"),n.innerHTML="<p>Mass shootings have been more frequent in recent years. In 2018, there were 12 incidents including the high school shooting in Parkland, Fla. that killed 17 students and adults. There were 11 in 2017, including the massacre in Las Vegas, Nevada that killed 58 concertgoers and injured 546, by far the deadliest mass shooting in U.S. history.</p>",r=N(),o=$("section"),i=$("p"),a=A("The shooting you remember the most, "),s=$("span"),l=A(B),c=A(", happened in "),u=A(V),h=A(" in "),f=A(z),d=A(", "),g=A(X),p=A("."),m=N(),G.c(),y=N(),v=$("section"),v.innerHTML='<p>For all 124 shootings, I tracked the coverage by The New York Times’ print edition, from the date the shooting happened and two weeks after that date. This project found no articles about these seven shootings.</p> \n    <p>These include <span class="highlighted svelte-64ul6b">Atlantis Plastics shooting</span> in Henderson, Kentucky in 2008 where six people were killed by an employee at the factory. Another is the <span class="highlighted svelte-64ul6b">Trestle Trail bridge shooting</span> in Menasha, Wisconsin in 2015, and the <span class="highlighted svelte-64ul6b">hotel bar shooting</span> in State College, Pennsylvania in 2019.</p>',w=N(),_=$("section"),_.innerHTML="<p>For all other 117 incidnets that had at least one article...</p>",M=N(),C=$("section"),C.innerHTML="<p>This chart shows the number of total words. Increasingly widely-reported shootings have happened in recent years.</p>",S=N(),D=$("section"),H=$("h4"),H.textContent="Top 10 shootings with the most amount of coverage",j=N(),U=$("table"),I=$("thead"),I.innerHTML='<tr class="svelte-64ul6b"><th class="table__rank svelte-64ul6b">Rank</th> \n          <th class="table__case svelte-64ul6b">Case</th> \n          <th class="table__year svelte-64ul6b">Year</th> \n          <th class="table__total-words svelte-64ul6b">Total words</th></tr>',O=N(),F=$("tbody");for(let t=0;t<K.length;t+=1)K[t].c();Y=N(),nt.c(),P=N(),W=$("section"),W.innerHTML="<p>Of all 117 shootings that had at least one article, 65 made it to the front page while 52 didn’t.</p> \n    <p>The sizes of the circles indicate the number of front page articles.</p>",R=N(),q=$("section"),it.c(),E(n,"data-section","0"),E(n,"class","svelte-64ul6b"),E(s,"class","selected svelte-64ul6b"),E(o,"data-section","1"),E(o,"class","svelte-64ul6b"),E(v,"data-section","2"),E(v,"class","svelte-64ul6b"),E(_,"data-section","3"),E(_,"class","svelte-64ul6b"),E(C,"data-section","4"),E(C,"class","svelte-64ul6b"),E(I,"class","svelte-64ul6b"),E(U,"class","svelte-64ul6b"),E(D,"data-section","5"),E(D,"class","svelte-64ul6b"),E(W,"data-section","6"),E(W,"class","svelte-64ul6b"),E(q,"data-section","7"),E(q,"class","svelte-64ul6b"),E(e,"slot","foreground"),E(e,"class","foreground svelte-64ul6b")},m(t,k){x(t,e,k),b(e,n),b(e,r),b(e,o),b(o,i),b(i,a),b(i,s),b(s,l),b(i,c),b(i,u),b(i,h),b(i,f),b(i,d),b(i,g),b(i,p),b(o,m),G.m(o,null),b(e,y),b(e,v),b(e,w),b(e,_),b(e,M),b(e,C),b(e,S),b(e,D),b(D,H),b(D,j),b(D,U),b(U,I),b(U,O),b(U,F);for(let t=0;t<K.length;t+=1)K[t].m(F,null);b(D,Y),nt.m(D,null),b(e,P),b(e,W),b(e,R),b(e,q),it.m(q,null)},p(t,e){if(512&e[0]&&B!==(B=t[9].case+"")&&L(l,B),512&e[0]&&V!==(V=t[9].year+"")&&L(u,V),512&e[0]&&z!==(z=t[9].city+"")&&L(f,z),512&e[0]&&X!==(X=t[9].state+"")&&L(g,X),J===(J=Z(t))&&G?G.p(t,e):(G.d(1),G=J(t),G&&(G.c(),G.m(o,null))),132097&e[0]){let n;for(Q=t[10],n=0;n<Q.length;n+=1){const r=tl(t,Q,n);K[n]?K[n].p(r,e):(K[n]=dl(r),K[n].c(),K[n].m(F,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=Q.length}et===(et=tt(t))&&nt?nt.p(t,e):(nt.d(1),nt=et(t),nt&&(nt.c(),nt.m(D,null))),ot===(ot=rt(t))&&it?it.p(t,e):(it.d(1),it=ot(t),it&&(it.c(),it.m(q,null)))},d(t){t&&k(e),G.d(),T(K,t),nt.d(),it.d()}}}function wl(t){let e,n,r,o,i,a;function s(e){t[32](e)}function l(e){t[33](e)}function c(e){t[34](e)}function u(e){t[35](e)}let h={top:.2,bottom:.9,$$slots:{foreground:[vl],background:[ul]},$$scope:{ctx:t}};return void 0!==t[1]&&(h.index=t[1]),void 0!==t[7]&&(h.offset=t[7]),void 0!==t[8]&&(h.progress=t[8]),void 0!==t[15]&&(h.count=t[15]),e=new Rs({props:h}),W.push((()=>it(e,"index",s))),W.push((()=>it(e,"offset",l))),W.push((()=>it(e,"progress",c))),W.push((()=>it(e,"count",u))),{c(){at(e.$$.fragment)},m(t,n){st(e,t,n),a=!0},p(t,a){const s={};32383&a[0]|64&a[2]&&(s.$$scope={dirty:a,ctx:t}),!n&&2&a[0]&&(n=!0,s.index=t[1],X((()=>n=!1))),!r&&128&a[0]&&(r=!0,s.offset=t[7],X((()=>r=!1))),!o&&256&a[0]&&(o=!0,s.progress=t[8],X((()=>o=!1))),!i&&32768&a[0]&&(i=!0,s.count=t[15],X((()=>i=!1))),e.$set(s)},i(t){a||(et(e.$$.fragment,t),a=!0)},o(t){nt(e.$$.fragment,t),a=!1},d(t){lt(e,t)}}}function _l(t,e,n){let r,o,i,a,s,c,u,h,f,{data:d}=e,{selected:g}=e;const p=ea("%m/%d/%y"),m=Lo(","),y=ta("%Y"),v={t:75,r:50,b:75,l:75},w=.9*window.innerWidth*.6,_=window.innerHeight;let b=w>_?_:w,x=b-v.t-v.b;const k=w-v.l-v.r;let T=[...Array(40).keys()].map((t=>t+1982));const $=[...Array(12).keys()].map((t=>t+1));let M=Po().domain(T).range([v.l,w-v.r]).paddingInner(.5),A=Ko().domain([0,13]).range([b-v.b,v.t]);const N=function(){return oi.apply(null,arguments).exponent(.5)}().domain([0,28]).range([3,10]),C=[...Array(13).keys()].map((t=>1e4*t)),S=[0,1,10,20,28];console.log(S);let E={x:"",y:""};const D={r:255,g:165,b:0},L=238,H=34;let j,U=zs(d.map((t=>({cx:0,cy:0,cr:0,strokeWidth:0,opacity:1,r:0,g:0,b:0,id:t.id}))),{stiffness:.1,damping:.9});l(t,U,(t=>n(13,r=t)));let I,O=zs(d.map((t=>({x:0,y:0,height:0,opacity:0,r:L,g:L,b:L,id:t.id}))),{stiffness:.1,damping:.9});return l(t,O,(t=>n(14,o=t))),t.$$set=t=>{"data"in t&&n(29,d=t.data),"selected"in t&&n(0,g=t.selected)},t.$$.update=()=>{if(536870913&t.$$.dirty[0]&&(n(9,u=d.filter((t=>t.id===g))[0]),n(10,h=d.filter((t=>t.rank<=10||t.id===g)))),1610612863&t.$$.dirty[0]|1&t.$$.dirty[1])if(i<3){n(11,f="Number of mass shootings over the years"),n(6,b=w/2.5>_?_:w/2.5),n(2,x=b-v.t-v.b),n(3,T=[...Array(40).keys()].map((t=>t+1982))),n(4,M=Po().domain(T).range([v.l,w-v.r]).paddingInner(.5)),n(5,A=Ko().domain([0,13]).range([b-v.b,v.t])),n(12,E={x:"Year",y:"Total mass shootings"});const t=M.bandwidth()-b/80;0===i?n(30,j=d.map((e=>({cx:M(+e.year),cy:A(e.count_by_year),cr:t,strokeWidth:0,opacity:1,r:L,g:L,b:L,id:e.id})))):1===i?n(30,j=d.map((e=>({cx:M(+e.year),cy:A(e.count_by_year),cr:t,strokeWidth:0,opacity:e.id===g?1:.1,r:e.id===g?D.r:L,g:e.id===g?D.g:L,b:e.id===g?D.b:L,id:e.id})))):2===i&&n(30,j=d.map((e=>({cx:M(+e.year),cy:A(e.count_by_year),cr:t,strokeWidth:0,opacity:"NA"===e.rank?1:.1,r:L,g:L,b:L,id:e.id})))),U.set(j)}else i>=3&&(n(6,b=w/1.5>_?_:w/1.5),n(2,x=b-v.t-v.b),n(3,T=[...Array(40).keys()].map((t=>t+1982)).map((t=>t.toString())).map((t=>t.slice(-2))).filter((t=>t%5==0))),n(3,T=T.map((t=>"01/01/".concat("",t)))),n(4,M=xs().domain([p("01/01/81"),p("12/31/21")]).range([v.l,w-v.r])),n(5,A=Ko().domain([0,$t(d,(t=>+t.total_words))]).range([b-v.b,v.t])),n(12,E=3==i?{x:"",y:""}:{x:"Date",y:"Total number of words"}),n(11,f=3==i?"":i<6?"Total number of words in NYT print edition":"Total number of front page articles in NYT print edition"),3===i?(n(30,j=d.map((t=>({cx:M(t.shooting_date),cy:x/2,cr:3,strokeWidth:.4,opacity:"NA"===t.rank?0:.5,r:L,g:L,b:L,id:t.id})))),n(31,I=d.map((t=>({x:M(t.shooting_date),y:A(t.total_words),height:b-A(t.total_words)-v.b,opacity:0,r:L,g:L,b:L,id:t.id}))))):4===i?(n(30,j=d.map((t=>({cx:M(t.shooting_date),cy:A(t.total_words),cr:1.5,strokeWidth:0,opacity:"NA"===t.rank?0:1,r:L,g:L,b:L,id:t.id})))),n(31,I=d.map((t=>({x:M(t.shooting_date),y:A(t.total_words),height:b-A(t.total_words)-v.b,opacity:1,r:L,g:L,b:L,id:t.id}))))):5===i?(n(30,j=d.map((t=>({cx:M(t.shooting_date),cy:A(t.total_words),cr:1.5,strokeWidth:0,opacity:"NA"===t.rank?0:113===t.id||t.id===g?1:.1,r:t.id===g?D.r:L,g:t.id===g?D.g:L,b:t.id===g?D.b:L,id:t.id})))),n(31,I=d.map((t=>({x:M(t.shooting_date),y:A(t.total_words),height:b-A(t.total_words)-v.b,opacity:"NA"===t.rank?0:113===t.id||t.id===g?1:.1,r:t.id===g?D.r:L,g:t.id===g?D.g:L,b:t.id===g?D.b:L,id:t.id}))))):6===i?(n(30,j=d.map((t=>({cx:M(t.shooting_date),cy:A(t.total_words),cr:N(t.total_front_page),strokeWidth:.4,opacity:"NA"===t.rank?0:.8,r:"FALSE"==t.if_made_on_front?H:L,g:"FALSE"==t.if_made_on_front?H:L,b:"FALSE"==t.if_made_on_front?H:L,id:t.id})))),n(31,I=d.map((t=>({x:M(t.shooting_date),y:A(t.total_words),height:b-A(t.total_words)-v.b,opacity:1,r:"FALSE"==t.if_made_on_front?H:L,g:"FALSE"==t.if_made_on_front?H:L,b:"FALSE"==t.if_made_on_front?H:L,id:t.id}))))):7===i&&(n(30,j=d.map((t=>({cx:M(t.shooting_date),cy:A(t.total_words),cr:N(t.total_front_page),strokeWidth:.4,opacity:"NA"===t.rank?0:97===t.id||t.id===g?1:.05,r:"FALSE"==t.if_made_on_front?H:t.id===g?D.r:L,g:"FALSE"==t.if_made_on_front?H:t.id===g?D.g:L,b:"FALSE"==t.if_made_on_front?H:t.id===g?D.b:L,id:t.id})))),n(31,I=d.map((t=>({x:M(t.shooting_date),y:A(t.total_words),height:b-A(t.total_words)-v.b,opacity:"NA"===t.rank?0:97===t.id||t.id===g?1:.1,r:"FALSE"==t.if_made_on_front?H:t.id===g?D.r:L,g:"FALSE"==t.if_made_on_front?H:t.id===g?D.g:L,b:"FALSE"==t.if_made_on_front?H:t.id===g?D.b:L,id:t.id}))))),U.set(j),O.set(I))},[g,i,x,T,M,A,b,a,s,u,h,f,E,r,o,c,p,m,y,v,w,k,$,N,C,S,(t,e)=>`transform: translate(${t}px, ${e}px`,U,O,d,j,I,function(t){i=t,n(1,i)},function(t){a=t,n(7,a)},function(t){s=t,n(8,s)},function(t){c=t,n(15,c)}]}class bl extends ht{constructor(t){super(),ut(this,t,_l,wl,i,{data:29,selected:0},null,[-1,-1,-1])}}function xl(t,e,n){const r=t.slice();return r[22]=e[n],r}function kl(t,e,n){const r=t.slice();return r[22]=e[n],r}function Tl(t,e,n){const r=t.slice();return r[22]=e[n],r}function $l(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ml(t,e,n){const r=t.slice();return r[22]=e[n],r}function Al(t,e,n){const r=t.slice();return r[33]=e[n],r}function Nl(t,e,n){const r=t.slice();return r[33]=e[n],r}function Cl(t,e,n){const r=t.slice();return r[33]=e[n],r}function Sl(e){let n,r,o,i,a,s,l,c,u,h=e[7](e[33])+"";return{c(){n=M("line"),s=M("text"),l=A(h),E(n,"x1",r=e[14](0)),E(n,"y1",o=e[15](e[33])),E(n,"x2",i=e[14](60)),E(n,"y2",a=e[15](e[33])),E(n,"stroke","gray"),E(n,"stroke-opacity","0.5"),E(n,"stroke-width","0.5"),E(s,"class","axis-ticks svelte-fai6cs"),E(s,"x",c=e[14](0)),E(s,"y",u=e[15](e[33])+5)},m(t,e){x(t,n,e),x(t,s,e),b(s,l)},p:t,d(t){t&&k(n),t&&k(s)}}}function El(e){let n,r,o,i,a;return{c(){n=M("line"),E(n,"x1",r=e[14](e[33])),E(n,"y1",o=e[15](0)),E(n,"x2",i=e[14](e[33])),E(n,"y2",a=e[15](127966)),E(n,"stroke","gray"),E(n,"stroke-opacity","0.5"),E(n,"stroke-width","0.3")},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function Dl(e){let n,r,o,i,a,s,l,c,u,h=e[33]+"";return{c(){n=M("text"),r=A(h),a=M("line"),E(n,"class","axis-ticks svelte-fai6cs"),E(n,"x",o=e[14](e[33])),E(n,"y",i=e[15](0)+15),E(a,"x1",s=e[14](e[33])),E(a,"y1",l=e[15](0)),E(a,"x2",c=e[14](e[33])),E(a,"y2",u=e[15](127966)),E(a,"stroke","gray"),E(a,"stroke-opacity","0.8"),E(a,"stroke-width","0.5")},m(t,e){x(t,n,e),b(n,r),x(t,a,e)},p:t,d(t){t&&k(n),t&&k(a)}}}function Ll(t){let e,n,r,o,i,a,s=t[6],l=[];for(let e=0;e<s.length;e+=1)l[e]=Ol(xl(t,s,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words"),o=M("line");for(let t=0;t<l.length;t+=1)l[t].c();i=M("text"),a=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"x1",t[14](1)),E(o,"y1",t[15](0)),E(o,"x2",t[14](59)),E(o,"y2",t[15](13e4)),E(o,"stroke","#eeeeee"),E(o,"stroke-width","1"),E(i,"class","axis-label svelte-fai6cs"),E(i,"x",t[9]/2-50),E(i,"y",t[10]-t[8].b+45)},m(t,s){x(t,e,s),b(e,n),b(n,r),b(e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);b(e,i),b(i,a)},p(t,n){if(49217&n[0]){let r;for(s=t[6],r=0;r<s.length;r+=1){const o=xl(t,s,r);l[r]?l[r].p(o,n):(l[r]=Ol(o),l[r].c(),l[r].m(e,i))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(t){t&&k(e),T(l,t)}}}function Hl(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=Fl(kl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=kl(t,a,r);s[r]?s[r].p(i,n):(s[r]=Fl(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function jl(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=Yl(Tl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Tl(t,a,r);s[r]?s[r].p(i,n):(s[r]=Yl(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function Ul(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=Pl($l(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=$l(t,a,r);s[r]?s[r].p(i,n):(s[r]=Pl(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function Il(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=Wl(Ml(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Ml(t,a,r);s[r]?s[r].p(i,n):(s[r]=Wl(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function Ol(t){let e,n,r,o,i,a,s,l,c=t[22].city+"";return{c(){e=M("circle"),i=M("text"),a=A(c),E(e,"cx",n=t[14](t[22].fatalities)),E(e,"cy",r=t[15](t[22].total_words)),E(e,"r","3"),E(e,"fill",o=t[22].id===t[0]?"orange":"#eeeeee"),H(e,"opacity",t[22].id==t[0]?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=t[22].fatalities>40?t[14](t[22].fatalities)-65:t[14](t[22].fatalities)+10),E(i,"y",l="Dayton"==t[22].city?t[15](t[22].total_words)+15:t[15](t[22].total_words)+5),H(i,"opacity",t[22].id==t[0]?1:t[22].total_words<5e4?0:.1)},m(t,n){x(t,e,n),x(t,i,n),b(i,a)},p(t,n){1&n[0]&&o!==(o=t[22].id===t[0]?"orange":"#eeeeee")&&E(e,"fill",o),1&n[0]&&H(e,"opacity",t[22].id==t[0]?1:.1),1&n[0]&&H(i,"opacity",t[22].id==t[0]?1:t[22].total_words<5e4?0:.1)},d(t){t&&k(e),t&&k(i)}}}function Fl(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity","Newtown"==e[22].city||"El Paso"==e[22].city||"Parkland"==e[22].city||"Littleton"==e[22].city||"Charleston"==e[22].city||"San Bernardino"==e[22].city||"Dayton"==e[22].city||"Tucson"==e[22].city?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity",e[22].total_words<5e4?0:"Newtown"==e[22].city||"El Paso"==e[22].city||"Parkland"==e[22].city||"Littleton"==e[22].city||"Charleston"==e[22].city||"San Bernardino"==e[22].city||"Dayton"==e[22].city||"Tucson"==e[22].city?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function Yl(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity",91===e[22].id||81===e[22].id||42===e[22].id?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity",e[22].total_words<5e4?0:91===e[22].id||81===e[22].id||42===e[22].id?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function Pl(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity",91===e[22].id?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity",e[22].total_words<5e4?0:91==e[22].id?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function Wl(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"stroke","#eeeeee"),E(n,"stroke-width","0.4"),E(n,"fill","#eeeeee"),E(n,"fill-opacity","0.7"),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity",e[22].total_words>5e4?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function Rl(t){let e,n,r,o,i,a,s,l,c=t[11],u=[];for(let e=0;e<c.length;e+=1)u[e]=Sl(Cl(t,c,e));let h=t[12],f=[];for(let e=0;e<h.length;e+=1)f[e]=El(Nl(t,h,e));let d=t[13],g=[];for(let e=0;e<d.length;e+=1)g[e]=Dl(Al(t,d,e));function p(t,e){return 0==t[1]?Il:1==t[1]?Ul:2==t[1]?jl:3==t[1]?Hl:4==t[1]?Ll:void 0}let m=p(t),y=m&&m(t);return{c(){e=$("div"),n=M("svg"),r=M("g"),o=M("text"),i=A(Vl);for(let t=0;t<u.length;t+=1)u[t].c();a=C();for(let t=0;t<f.length;t+=1)f[t].c();s=C();for(let t=0;t<g.length;t+=1)g[t].c();l=C(),y&&y.c(),E(o,"transform","translate(0, 30)"),E(r,"class","chart-title"),E(n,"width",t[9]),E(n,"height",t[10]),E(e,"slot","background"),E(e,"class","background svelte-fai6cs")},m(t,c){x(t,e,c),b(e,n),b(n,r),b(r,o),b(o,i);for(let t=0;t<u.length;t+=1)u[t].m(n,null);b(n,a);for(let t=0;t<f.length;t+=1)f[t].m(n,null);b(n,s);for(let t=0;t<g.length;t+=1)g[t].m(n,null);b(n,l),y&&y.m(n,null)},p(t,e){if(51328&e[0]){let r;for(c=t[11],r=0;r<c.length;r+=1){const o=Cl(t,c,r);u[r]?u[r].p(o,e):(u[r]=Sl(o),u[r].c(),u[r].m(n,a))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}if(53248&e[0]){let r;for(h=t[12],r=0;r<h.length;r+=1){const o=Nl(t,h,r);f[r]?f[r].p(o,e):(f[r]=El(o),f[r].c(),f[r].m(n,s))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}if(57344&e[0]){let r;for(d=t[13],r=0;r<d.length;r+=1){const o=Al(t,d,r);g[r]?g[r].p(o,e):(g[r]=Dl(o),g[r].c(),g[r].m(n,l))}for(;r<g.length;r+=1)g[r].d(1);g.length=d.length}m===(m=p(t))&&y?y.p(t,e):(y&&y.d(1),y=m&&m(t),y&&(y.c(),y.m(n,null)))},d(t){t&&k(e),T(u,t),T(f,t),T(g,t),y&&y.d()}}}function ql(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v,w,_,T,M,C,S=t[5].case+"",D=t[5].fatalities+"",H=t[7](t[5].total_words)+"",j=t[5].total_words/t[5].fatalities>13e4/58?"above":"below";return{c(){e=$("div"),n=$("section"),n.innerHTML="<p>Not surprisingly, when there are more victims, the amount of coverage increases.</p>",r=N(),o=$("section"),o.innerHTML="<p>The one in Las Vegas (58 fatalities, 74,555 words) had by far the most people killed and injured.</p>",i=N(),a=$("section"),a.innerHTML="<p>Compared to other shootings, Las Vegas had less coverage. The Orlando nightclub massacre had nine fewer people killed (49 fatalities), and yet generated about 50,000 more words (124,798 words).</p> \n    <p>The same was true of the Virginia Tech massacre in Blacksburg (32 fatalities, about 60,000 words). These seem underreported for the number of people killed.</p>",s=N(),l=$("section"),l.innerHTML="<p>On the other hand, these shootings generated more coverage, considering the number of victims, even more than Orlando.</p> \n    <p>They include the Sandy Hook Elementary School massacre in Newtown (27 fatalities, 106,800 words), Columbine High School shooting (13 fatalities, 94,400 words) in Littleton, and those in El Paso, Parkland, Tucson.</p>",c=N(),u=$("section"),h=$("p"),h.textContent="Given the number of victims, those above the line were reported more, while those below were reported less, compared to other shootings.",f=N(),d=$("p"),g=A("The shooting you chose, "),p=$("span"),m=A(S),y=A(", had a total of "),v=A(D),w=A(" fatalities and generated "),_=A(H),T=A(" words. It was "),M=A(j),C=A(" the line."),E(n,"data-section","0"),E(n,"class","svelte-fai6cs"),E(o,"data-section","1"),E(o,"class","svelte-fai6cs"),E(a,"data-section","2"),E(a,"class","svelte-fai6cs"),E(l,"data-section","3"),E(l,"class","svelte-fai6cs"),E(p,"class","svelte-fai6cs"),E(u,"data-section","4"),E(u,"class","svelte-fai6cs"),E(e,"slot","foreground"),E(e,"class","foreground svelte-fai6cs")},m(t,k){x(t,e,k),b(e,n),b(e,r),b(e,o),b(e,i),b(e,a),b(e,s),b(e,l),b(e,c),b(e,u),b(u,h),b(u,f),b(u,d),b(d,g),b(d,p),b(p,m),b(d,y),b(d,v),b(d,w),b(d,_),b(d,T),b(d,M),b(d,C)},p(t,e){32&e[0]&&S!==(S=t[5].case+"")&&L(m,S),32&e[0]&&D!==(D=t[5].fatalities+"")&&L(v,D),32&e[0]&&H!==(H=t[7](t[5].total_words)+"")&&L(_,H),32&e[0]&&j!==(j=t[5].total_words/t[5].fatalities>13e4/58?"above":"below")&&L(M,j)},d(t){t&&k(e)}}}function Bl(t){let e,n,r,o,i,a;function s(e){t[17](e)}function l(e){t[18](e)}function c(e){t[19](e)}function u(e){t[20](e)}let h={top:.2,bottom:1,$$slots:{foreground:[ql],background:[Rl]},$$scope:{ctx:t}};return void 0!==t[1]&&(h.index=t[1]),void 0!==t[2]&&(h.offset=t[2]),void 0!==t[3]&&(h.progress=t[3]),void 0!==t[4]&&(h.count=t[4]),e=new Rs({props:h}),W.push((()=>it(e,"index",s))),W.push((()=>it(e,"offset",l))),W.push((()=>it(e,"progress",c))),W.push((()=>it(e,"count",u))),{c(){at(e.$$.fragment)},m(t,n){st(e,t,n),a=!0},p(t,a){const s={};35&a[0]|512&a[1]&&(s.$$scope={dirty:a,ctx:t}),!n&&2&a[0]&&(n=!0,s.index=t[1],X((()=>n=!1))),!r&&4&a[0]&&(r=!0,s.offset=t[2],X((()=>r=!1))),!o&&8&a[0]&&(o=!0,s.progress=t[3],X((()=>o=!1))),!i&&16&a[0]&&(i=!0,s.count=t[4],X((()=>i=!1))),e.$set(s)},i(t){a||(et(e.$$.fragment,t),a=!0)},o(t){nt(e.$$.fragment,t),a=!1},d(t){lt(e,t)}}}const Vl="Number of fatal victims and total number of words";function zl(t,e,n){let r,o,i,a,s,{data:l}=e,{selected:c}=e,u=l.filter((t=>"NA"!==t.total_front_page));const h=Lo(","),f={t:75,r:150,b:100,l:70},d=.9*window.innerWidth*.6,g=window.innerHeight-200;let p=d>g?g:d,m=[...Array(13).keys()].map((t=>1e4*t)),y=[...Array(60).keys()],v=[...Array(12).keys()].map((t=>5*t+5)),w=Ko().domain([0,$t(u,(t=>t.fatalities))+1]).range([f.l,d-f.r]),_=Ko().domain(mt(u,(t=>t.total_words))).range([p-f.b,f.t]);return t.$$set=t=>{"data"in t&&n(16,l=t.data),"selected"in t&&n(0,c=t.selected)},t.$$.update=()=>{65537&t.$$.dirty[0]&&n(5,s=l.filter((t=>t.id===c))[0])},[c,r,o,i,a,s,u,h,f,d,p,m,y,v,w,_,l,function(t){r=t,n(1,r)},function(t){o=t,n(2,o)},function(t){i=t,n(3,i)},function(t){a=t,n(4,a)}]}class Xl extends ht{constructor(t){super(),ut(this,t,zl,Bl,i,{data:16,selected:0},null,[-1,-1])}}function Zl(t,e,n){const r=t.slice();return r[22]=e[n],r}function Jl(t,e,n){const r=t.slice();return r[22]=e[n],r}function Gl(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ql(t,e,n){const r=t.slice();return r[22]=e[n],r}function Kl(t,e,n){const r=t.slice();return r[22]=e[n],r}function tc(t,e,n){const r=t.slice();return r[33]=e[n],r}function ec(t,e,n){const r=t.slice();return r[33]=e[n],r}function nc(t,e,n){const r=t.slice();return r[33]=e[n],r}function rc(e){let n,r,o,i,a,s,l,c,u,h=e[7](e[33])+"";return{c(){n=M("line"),s=M("text"),l=A(h),E(n,"x1",r=e[14](0)),E(n,"y1",o=e[15](e[33])),E(n,"x2",i=e[14](60)),E(n,"y2",a=e[15](e[33])),E(n,"stroke","gray"),E(n,"stroke-opacity","0.5"),E(n,"stroke-width","0.5"),E(s,"class","axis-ticks svelte-fai6cs"),E(s,"x",c=e[14](0)),E(s,"y",u=e[15](e[33])+5)},m(t,e){x(t,n,e),x(t,s,e),b(s,l)},p:t,d(t){t&&k(n),t&&k(s)}}}function oc(e){let n,r,o,i,a;return{c(){n=M("line"),E(n,"x1",r=e[14](e[33])),E(n,"y1",o=e[15](0)),E(n,"x2",i=e[14](e[33])),E(n,"y2",a=e[15](127966)),E(n,"stroke","gray"),E(n,"stroke-opacity","0.5"),E(n,"stroke-width","0.3")},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function ic(e){let n,r,o,i,a,s,l,c,u,h=e[33]+"";return{c(){n=M("text"),r=A(h),a=M("line"),E(n,"class","axis-ticks svelte-fai6cs"),E(n,"x",o=e[14](e[33])),E(n,"y",i=e[15](0)+15),E(a,"x1",s=e[14](e[33])),E(a,"y1",l=e[15](0)),E(a,"x2",c=e[14](e[33])),E(a,"y2",u=e[15](127966)),E(a,"stroke","gray"),E(a,"stroke-opacity","0.8"),E(a,"stroke-width","0.5")},m(t,e){x(t,n,e),b(n,r),x(t,a,e)},p:t,d(t){t&&k(n),t&&k(a)}}}function ac(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=hc(Zl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49217&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Zl(t,a,r);s[r]?s[r].p(i,n):(s[r]=hc(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function sc(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=fc(Jl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Jl(t,a,r);s[r]?s[r].p(i,n):(s[r]=fc(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function lc(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=dc(Gl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Gl(t,a,r);s[r]?s[r].p(i,n):(s[r]=dc(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function cc(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=gc(Ql(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Ql(t,a,r);s[r]?s[r].p(i,n):(s[r]=gc(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function uc(t){let e,n,r,o,i,a=t[6],s=[];for(let e=0;e<a.length;e+=1)s[e]=pc(Kl(t,a,e));return{c(){e=M("g"),n=M("text"),r=A("Total number of words");for(let t=0;t<s.length;t+=1)s[t].c();o=M("text"),i=A("Total fatal victims"),E(n,"class","axis-label svelte-fai6cs"),E(n,"transform",`translate(20, ${t[10]/2+50}) rotate(-90)`),E(o,"class","axis-label svelte-fai6cs"),E(o,"x",t[9]/2-50),E(o,"y",t[10]-t[8].b+45)},m(t,a){x(t,e,a),b(e,n),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);b(e,o),b(o,i)},p(t,n){if(49216&n[0]){let r;for(a=t[6],r=0;r<a.length;r+=1){const i=Kl(t,a,r);s[r]?s[r].p(i,n):(s[r]=pc(i),s[r].c(),s[r].m(e,o))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(t){t&&k(e),T(s,t)}}}function hc(t){let e,n,r,o,i,a,s,l,c=t[22].city+"";return{c(){e=M("circle"),i=M("text"),a=A(c),E(e,"cx",n=t[14](t[22].fatalities)),E(e,"cy",r=t[15](t[22].total_words)),E(e,"r","3"),E(e,"fill",o=t[22].id===t[0]?"orange":"#eeeeee"),H(e,"opacity",t[22].id===t[0]?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=t[22].fatalities>40?t[14](t[22].fatalities)-65:t[14](t[22].fatalities)+10),E(i,"y",l="Dayton"==t[22].city?t[15](t[22].total_words)+15:t[15](t[22].total_words)+5),H(i,"opacity",t[22].id===t[0]?1:0)},m(t,n){x(t,e,n),x(t,i,n),b(i,a)},p(t,n){1&n[0]&&o!==(o=t[22].id===t[0]?"orange":"#eeeeee")&&E(e,"fill",o),1&n[0]&&H(e,"opacity",t[22].id===t[0]?1:.1),1&n[0]&&H(i,"opacity",t[22].id===t[0]?1:0)},d(t){t&&k(e),t&&k(i)}}}function fc(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity","Restaurant/bar/nightclub"===e[22].location_new||"Retail"===e[22].location_new?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity","Restaurant/bar/nightclub"!==e[22].location_new&&"Retail"!==e[22].location_new||!(e[22].total_words>1e4||e[22].fatalities>9)?0:.3)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function dc(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity","Workplace"===e[22].location_new?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity","Workplace"===e[22].location_new&&(e[22].total_words>1e4||e[22].fatalities>9)?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function gc(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"fill","#eeeeee"),H(n,"opacity","School"===e[22].location_new?1:.1),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity","School"===e[22].location_new&&(e[22].total_words>1e4||e[22].fatalities>6)?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function pc(e){let n,r,o,i,a,s,l,c=e[22].city+"";return{c(){n=M("circle"),i=M("text"),a=A(c),E(n,"cx",r=e[14](e[22].fatalities)),E(n,"cy",o=e[15](e[22].total_words)),E(n,"r","3"),E(n,"stroke","#eeeeee"),E(n,"stroke-width","0.4"),E(n,"fill","#eeeeee"),E(n,"fill-opacity","0.7"),E(i,"class","label svelte-fai6cs"),E(i,"x",s=e[22].fatalities>40?e[14](e[22].fatalities)-65:e[14](e[22].fatalities)+10),E(i,"y",l="Dayton"==e[22].city?e[15](e[22].total_words)+15:e[15](e[22].total_words)+5),H(i,"opacity",e[22].total_words>5e4?.3:0)},m(t,e){x(t,n,e),x(t,i,e),b(i,a)},p:t,d(t){t&&k(n),t&&k(i)}}}function mc(t){let e,n,r,o,i,a,s,l,c=t[11],u=[];for(let e=0;e<c.length;e+=1)u[e]=rc(nc(t,c,e));let h=t[12],f=[];for(let e=0;e<h.length;e+=1)f[e]=oc(ec(t,h,e));let d=t[13],g=[];for(let e=0;e<d.length;e+=1)g[e]=ic(tc(t,d,e));function p(t,e){return 0==t[1]?uc:1==t[1]?cc:2==t[1]?lc:3==t[1]?sc:4==t[1]?ac:void 0}let m=p(t),y=m&&m(t);return{c(){e=$("div"),n=M("svg"),r=M("g"),o=M("text"),i=A(wc);for(let t=0;t<u.length;t+=1)u[t].c();a=C();for(let t=0;t<f.length;t+=1)f[t].c();s=C();for(let t=0;t<g.length;t+=1)g[t].c();l=C(),y&&y.c(),E(o,"transform","translate(0, 30)"),E(r,"class","chart-title"),E(n,"width",t[9]),E(n,"height",t[10]),E(e,"slot","background"),E(e,"class","background svelte-fai6cs")},m(t,c){x(t,e,c),b(e,n),b(n,r),b(r,o),b(o,i);for(let t=0;t<u.length;t+=1)u[t].m(n,null);b(n,a);for(let t=0;t<f.length;t+=1)f[t].m(n,null);b(n,s);for(let t=0;t<g.length;t+=1)g[t].m(n,null);b(n,l),y&&y.m(n,null)},p(t,e){if(51328&e[0]){let r;for(c=t[11],r=0;r<c.length;r+=1){const o=nc(t,c,r);u[r]?u[r].p(o,e):(u[r]=rc(o),u[r].c(),u[r].m(n,a))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}if(53248&e[0]){let r;for(h=t[12],r=0;r<h.length;r+=1){const o=ec(t,h,r);f[r]?f[r].p(o,e):(f[r]=oc(o),f[r].c(),f[r].m(n,s))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}if(57344&e[0]){let r;for(d=t[13],r=0;r<d.length;r+=1){const o=tc(t,d,r);g[r]?g[r].p(o,e):(g[r]=ic(o),g[r].c(),g[r].m(n,l))}for(;r<g.length;r+=1)g[r].d(1);g.length=d.length}m===(m=p(t))&&y?y.p(t,e):(y&&y.d(1),y=m&&m(t),y&&(y.c(),y.m(n,null)))},d(t){t&&k(e),T(u,t),T(f,t),T(g,t),y&&y.d()}}}function yc(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v=t[5].case+"",w=t[5].location_new+"";return{c(){e=$("div"),n=$("section"),n.innerHTML="<p>Some may think school shootings have been reported widely. In fact, some of the most memorable ones happened in schools, from elementary to college, and they were hugely reported by The Times.</p>",r=N(),o=$("section"),o.innerHTML="<h4>School</h4> \n    <p>As much as notorious school shootings such as Columbine (Littleton), Sandy Hook (Newtown) and Parkland generated a massive amount of coverage, they were also the ones with a lot of victims.</p> \n    <p>However, school shootings are rarely underreported -- one exception may be the one at Oikos University in Oakland, Calif. in 2005, where a former student killed seven, injured three in a classroom. The Times print edition only reported this with 2005 words, in two articles.</p>",i=N(),a=$("section"),a.innerHTML="<h4>Workplace</h4> \n    <p>There have been at least 45 shootings that have happened in a workplace according to Mother Jones’ database and The Violence Project. Most workplace shootings were not reported widely, even with a lot of victims.</p> \n    <p>One outlier is the San Bernardino mass shooting in 2015, where a married couple opened fire at a Christmas party at the husband’s workplace. 14 people were killed and 22 others were wounded. This attack was labeled as terrorism and generated a massive amount of coverage (76,891 words).</p>",s=N(),l=$("section"),l.innerHTML="<h4>Other locations</h4> \n    <p>The location of the shooting partly explains the difference in coverage, but not completely. For example, there is still a huge gap for shootings in retails or restaurants/bars/nightclubs.</p>",c=N(),u=$("section"),h=$("p"),f=A("The shooting you chose, "),d=$("span"),g=A(v),p=A(", happened in "),m=A(w),y=A("."),E(n,"data-section","0"),E(n,"class","svelte-fai6cs"),E(o,"data-section","1"),E(o,"class","svelte-fai6cs"),E(a,"data-section","2"),E(a,"class","svelte-fai6cs"),E(l,"data-section","3"),E(l,"class","svelte-fai6cs"),E(d,"class","svelte-fai6cs"),E(u,"data-section","4"),E(u,"class","svelte-fai6cs"),E(e,"slot","foreground"),E(e,"class","foreground svelte-fai6cs")},m(t,v){x(t,e,v),b(e,n),b(e,r),b(e,o),b(e,i),b(e,a),b(e,s),b(e,l),b(e,c),b(e,u),b(u,h),b(h,f),b(h,d),b(d,g),b(h,p),b(h,m),b(h,y)},p(t,e){32&e[0]&&v!==(v=t[5].case+"")&&L(g,v),32&e[0]&&w!==(w=t[5].location_new+"")&&L(m,w)},d(t){t&&k(e)}}}function vc(t){let e,n,r,o,i,a;function s(e){t[17](e)}function l(e){t[18](e)}function c(e){t[19](e)}function u(e){t[20](e)}let h={top:.2,bottom:1,$$slots:{foreground:[yc],background:[mc]},$$scope:{ctx:t}};return void 0!==t[1]&&(h.index=t[1]),void 0!==t[2]&&(h.offset=t[2]),void 0!==t[3]&&(h.progress=t[3]),void 0!==t[4]&&(h.count=t[4]),e=new Rs({props:h}),W.push((()=>it(e,"index",s))),W.push((()=>it(e,"offset",l))),W.push((()=>it(e,"progress",c))),W.push((()=>it(e,"count",u))),{c(){at(e.$$.fragment)},m(t,n){st(e,t,n),a=!0},p(t,a){const s={};35&a[0]|512&a[1]&&(s.$$scope={dirty:a,ctx:t}),!n&&2&a[0]&&(n=!0,s.index=t[1],X((()=>n=!1))),!r&&4&a[0]&&(r=!0,s.offset=t[2],X((()=>r=!1))),!o&&8&a[0]&&(o=!0,s.progress=t[3],X((()=>o=!1))),!i&&16&a[0]&&(i=!0,s.count=t[4],X((()=>i=!1))),e.$set(s)},i(t){a||(et(e.$$.fragment,t),a=!0)},o(t){nt(e.$$.fragment,t),a=!1},d(t){lt(e,t)}}}const wc="Number of fatal victims and total number of words, by location";function _c(t,e,n){let r,o,i,a,s,{data:l}=e,{selected:c}=e,u=l.filter((t=>"NA"!==t.total_front_page));const h=Lo(","),f={t:75,r:150,b:100,l:70},d=.9*window.innerWidth*.6,g=window.innerHeight-200;let p=d>g?g:d,m=[...Array(13).keys()].map((t=>1e4*t)),y=[...Array(60).keys()],v=[...Array(12).keys()].map((t=>5*t+5)),w=Ko().domain([0,$t(u,(t=>t.fatalities))+1]).range([f.l,d-f.r]),_=Ko().domain(mt(u,(t=>t.total_words))).range([p-f.b,f.t]);return t.$$set=t=>{"data"in t&&n(16,l=t.data),"selected"in t&&n(0,c=t.selected)},t.$$.update=()=>{65537&t.$$.dirty[0]&&n(5,s=l.filter((t=>t.id===c))[0])},[c,r,o,i,a,s,u,h,f,d,p,m,y,v,w,_,l,function(t){r=t,n(1,r)},function(t){o=t,n(2,o)},function(t){i=t,n(3,i)},function(t){a=t,n(4,a)}]}class bc extends ht{constructor(t){super(),ut(this,t,_c,vc,i,{data:16,selected:0},null,[-1,-1])}}function xc(t,e,n){const r=t.slice();return r[37]=e[n].cx,r[38]=e[n].cy,r[39]=e[n].cr,r[40]=e[n].strokeWidth,r[41]=e[n].opacity,r[42]=e[n].r,r[43]=e[n].g,r[44]=e[n].b,r[45]=e[n].id,r}function kc(t,e,n){const r=t.slice();return r[48]=e[n].strokeOpacity,r[49]=e[n].totalWords,r[42]=e[n].r,r[43]=e[n].g,r[44]=e[n].b,r}function Tc(t,e,n){const r=t.slice();return r[52]=e[n],r}function $c(t,e,n){const r=t.slice();return r[52]=e[n],r}function Mc(e){let n,r,o,i,a,s,l,c,u,h=e[52]+"";return{c(){n=M("line"),s=M("text"),l=A(h),E(n,"x1",r=e[19](e[52])),E(n,"y1",o=e[20](0)+20),E(n,"x2",i=e[19](e[52])),E(n,"y2",a=e[12].t-10),E(n,"stroke","gray"),E(n,"stroke-opacity","0.5"),E(n,"stroke-width","0.5"),E(s,"x",c=e[19](e[52])),E(s,"y",u=e[20](0)+20),E(s,"fill","white"),E(s,"class","axis-ticks svelte-hg83fw"),E(s,"text-anchor","middle")},m(t,e){x(t,n,e),x(t,s,e),b(s,l)},p:t,d(t){t&&k(n),t&&k(s)}}}function Ac(e){let n,r,o,i,a,s,l,c,u,h=e[11](e[52])+"";return{c(){n=M("line"),s=M("text"),l=A(h),E(n,"x1",r=e[12].l-5),E(n,"y1",o=e[20](e[52])),E(n,"x2",i=0===e[52]?e[19](100)+5:e[12].l+5),E(n,"y2",a=e[20](e[52])),E(n,"stroke","gray"),E(n,"stroke-opacity","1"),E(n,"stroke-width","0.5"),E(s,"class","axis-ticks svelte-hg83fw"),E(s,"x",c=e[12].l-10),E(s,"y",u=e[20](e[52])+5),E(s,"fill","white"),E(s,"text-anchor","end")},m(t,e){x(t,n,e),x(t,s,e),b(s,l)},p:t,d(t){t&&k(n),t&&k(s)}}}function Nc(t){let e,n,r,o,i,a,s;return{c(){e=M("line"),E(e,"x1",n=t[12].l),E(e,"y1",r=t[20](t[49])),E(e,"x2",o=t[13]-t[12].r),E(e,"y2",i=t[20](t[49])),E(e,"stroke",a="rgb("+t[42]+", "+t[43]+", "+t[44]+")"),E(e,"stroke-width","0.5"),E(e,"stroke-opacity",s=t[48])},m(t,n){x(t,e,n)},p(t,n){512&n[0]&&r!==(r=t[20](t[49]))&&E(e,"y1",r),512&n[0]&&i!==(i=t[20](t[49]))&&E(e,"y2",i),512&n[0]&&a!==(a="rgb("+t[42]+", "+t[43]+", "+t[44]+")")&&E(e,"stroke",a),512&n[0]&&s!==(s=t[48])&&E(e,"stroke-opacity",s)},d(t){t&&k(e)}}}function Cc(t){let e,n,r,o,i,a,s,l;return{c(){e=M("circle"),E(e,"style",n=t[21](t[37],t[38])),E(e,"r",r=t[39]),E(e,"stroke","#cccccc"),E(e,"stroke-width",o=t[40]),E(e,"stroke-opacity",i=0===t[37]?0:t[41]),E(e,"fill",a="rgb("+t[42]+", "+t[43]+", "+t[44]+")"),E(e,"fill-opacity",s=0===t[37]?0:t[41]),E(e,"id",l=t[45])},m(t,n){x(t,e,n)},p(t,c){1024&c[0]&&n!==(n=t[21](t[37],t[38]))&&E(e,"style",n),1024&c[0]&&r!==(r=t[39])&&E(e,"r",r),1024&c[0]&&o!==(o=t[40])&&E(e,"stroke-width",o),1024&c[0]&&i!==(i=0===t[37]?0:t[41])&&E(e,"stroke-opacity",i),1024&c[0]&&a!==(a="rgb("+t[42]+", "+t[43]+", "+t[44]+")")&&E(e,"fill",a),1024&c[0]&&s!==(s=0===t[37]?0:t[41])&&E(e,"fill-opacity",s),1024&c[0]&&l!==(l=t[45])&&E(e,"id",l)},d(t){t&&k(e)}}}function Sc(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m=t[8].y+"",y=t[8].x+"",v=t[18],w=[];for(let e=0;e<v.length;e+=1)w[e]=Mc($c(t,v,e));let _=t[17],N=[];for(let e=0;e<_.length;e+=1)N[e]=Ac(Tc(t,_,e));let C=t[9],S=[];for(let e=0;e<C.length;e+=1)S[e]=Nc(kc(t,C,e));let D=t[10],H=[];for(let e=0;e<D.length;e+=1)H[e]=Cc(xc(t,D,e));return{c(){e=$("div"),n=M("svg"),r=M("g"),o=M("g"),i=M("text"),a=A(t[7]),s=M("g"),l=M("text"),c=A(m),u=M("text"),h=A(y),f=M("g");for(let t=0;t<w.length;t+=1)w[t].c();d=M("g");for(let t=0;t<N.length;t+=1)N[t].c();g=M("g");for(let t=0;t<S.length;t+=1)S[t].c();p=M("g");for(let t=0;t<H.length;t+=1)H[t].c();E(i,"transform","translate(0, 30)"),E(o,"class","chart-title"),E(l,"class","axis-label svelte-hg83fw"),E(l,"transform",`translate(15, ${t[15]/2+70}) rotate(-90)`),E(u,"class","axis-label svelte-hg83fw"),E(u,"x",t[16]/2+40),E(u,"y",t[15]+45),E(u,"text-anchor","middle"),E(s,"class","axis-titles"),E(f,"class","x-axis-ticks"),E(d,"class","y-axis-ticks"),E(g,"class","lines"),E(p,"class","circles"),E(n,"width",t[13]),E(n,"height",t[14]),E(e,"slot","background"),E(e,"class","background svelte-hg83fw")},m(t,m){x(t,e,m),b(e,n),b(n,r),b(r,o),b(o,i),b(i,a),b(r,s),b(s,l),b(l,c),b(s,u),b(u,h),b(r,f);for(let t=0;t<w.length;t+=1)w[t].m(f,null);b(r,d);for(let t=0;t<N.length;t+=1)N[t].m(d,null);b(r,g);for(let t=0;t<S.length;t+=1)S[t].m(g,null);b(r,p);for(let t=0;t<H.length;t+=1)H[t].m(p,null)},p(t,e){if(128&e[0]&&L(a,t[7]),256&e[0]&&m!==(m=t[8].y+"")&&L(c,m),256&e[0]&&y!==(y=t[8].x+"")&&L(h,y),1839104&e[0]){let n;for(v=t[18],n=0;n<v.length;n+=1){const r=$c(t,v,n);w[n]?w[n].p(r,e):(w[n]=Mc(r),w[n].c(),w[n].m(f,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=v.length}if(1710080&e[0]){let n;for(_=t[17],n=0;n<_.length;n+=1){const r=Tc(t,_,n);N[n]?N[n].p(r,e):(N[n]=Ac(r),N[n].c(),N[n].m(d,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=_.length}if(1061376&e[0]){let n;for(C=t[9],n=0;n<C.length;n+=1){const r=kc(t,C,n);S[n]?S[n].p(r,e):(S[n]=Nc(r),S[n].c(),S[n].m(g,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=C.length}if(2098176&e[0]){let n;for(D=t[10],n=0;n<D.length;n+=1){const r=xc(t,D,n);H[n]?H[n].p(r,e):(H[n]=Cc(r),H[n].c(),H[n].m(p,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=D.length}},d(t){t&&k(e),T(w,t),T(N,t),T(S,t),T(H,t)}}}function Ec(t){let e,n,r,o,i,a,s,l,c,u=t[5].case+"",h=t[5].suspect_1_age+"",f=t[5].suspect_2_age+"";return{c(){e=$("p"),n=A("The suspects of the shooting you remember the most, the "),r=$("span"),o=A(u),i=A(", were "),a=A(h),s=A(" and "),l=A(f),c=A(" years old at the time of the incident."),E(r,"class","svelte-hg83fw")},m(t,u){x(t,e,u),b(e,n),b(e,r),b(r,o),b(e,i),b(e,a),b(e,s),b(e,l),b(e,c)},p(t,e){32&e[0]&&u!==(u=t[5].case+"")&&L(o,u),32&e[0]&&h!==(h=t[5].suspect_1_age+"")&&L(a,h),32&e[0]&&f!==(f=t[5].suspect_2_age+"")&&L(l,f)},d(t){t&&k(e)}}}function Dc(t){let e,n,r,o,i,a,s,l=t[5].case+"",c=t[5].suspect_1_age+"";return{c(){e=$("p"),n=A("The suspect of the shooting you remember the most, the "),r=$("span"),o=A(l),i=A(", was "),a=A(c),s=A(" years old at the time of the incident."),E(r,"class","svelte-hg83fw")},m(t,l){x(t,e,l),b(e,n),b(e,r),b(r,o),b(e,i),b(e,a),b(e,s)},p(t,e){32&e[0]&&l!==(l=t[5].case+"")&&L(o,l),32&e[0]&&c!==(c=t[5].suspect_1_age+"")&&L(a,c)},d(t){t&&k(e)}}}function Lc(t){let e,n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v,w,_,T,M,C,S,D,H,j,U,I,O,F,Y=t[5].case+"",P=t[5].total_victims+"",W=t[1].length+"";function R(t,e){return 0==t[5].suspect_2_age?Dc:Ec}let q=R(t),B=q(t);return{c(){e=$("div"),n=$("section"),n.innerHTML="<h4>Suspects</h4> \n    <p>This chart shows the ages of suspects at the time of the shooting and the number of words for each shooting. If there were two suspects, the points are located on the average age.</p>",r=N(),o=$("section"),o.innerHTML="<p>The youngest suspect ever was an 11-year-old boy who, with another boy, 13, shot their peers and teachers in their middle school in Jonesboro, Ark. in 1998. This was covered relatively widely, with about 25,000 words and a total of 35 articles.</p> \n    <p>The oldest suspect was a 66-year-old employee who had been terminated who opened fire at his former workplace in Melrose Park, Ill., in 2001. He killed five people and injured four others, which generated 1661 words in The Times print edition.</p>",i=N(),a=$("section"),s=$("p"),s.textContent="Suspects in shootings with the most amount of coverage tend to be in or around their 20s. Shootings by middle-aged or older perpetrators are rarely reported most widely.",l=N(),B.c(),c=N(),u=$("section"),u.innerHTML="<h4>Victims</h4> \n    <p>This chart shows the ages of the fatal victims at the time of the shooting, in relation to the number of words in coverage by The Times. Each dot represents one victim.</p>",h=N(),f=$("section"),f.innerHTML="<p>The victim’s age somewhat explains the difference in the amount of coverage.</p> \n    <p>There are clusters of young victims in Newtown (Sandy Hook), Littleton (Columbine), and Blacksburg (Virginia Tech) shootings. All happened in school, and students were victimized.</p>",d=N(),g=$("section"),g.innerHTML="<p>However, there are other shootings that weren’t reported widely with young victims, such as the one in Gilroy, Calif., where a 6-year-old, as well as a 13-year-old and 25-year-old were killed, and 15 others were injured. This shooting was only reported with a little more than 4500 words. Another exception may be the Amish school shooting in Lancaster County, Penn. in 2006, where five young girls were shot dead.</p>",p=N(),m=$("section"),y=$("p"),y.textContent="From this analysis, it may be premature to conclude the victim's age is the sole factor to determine the amount of coverage.",v=N(),w=$("p"),w.textContent="Main exceptions are the shootings in El Paso and Tucson. However, these two had noteworthy victims: mostly Latinos in the former, and a congresswoman in the latter.",_=N(),T=$("p"),M=A("The shooting you chose, "),C=$("span"),S=A(Y),D=A(", had a total of "),H=A(P),j=A(" victims, "),U=A(W),I=A(" fatal. The average age of the fatal victims was "),O=A(t[6]),F=A("."),E(n,"data-section","0"),E(n,"class","svelte-hg83fw"),E(o,"data-section","1"),E(o,"class","svelte-hg83fw"),E(a,"data-section","2"),E(a,"class","svelte-hg83fw"),E(u,"data-section","3"),E(u,"class","svelte-hg83fw"),E(f,"data-section","4"),E(f,"class","svelte-hg83fw"),E(g,"data-section","5"),E(g,"class","svelte-hg83fw"),E(C,"class","svelte-hg83fw"),E(m,"data-section","6"),E(m,"class","svelte-hg83fw"),E(e,"slot","foreground"),E(e,"class","foreground svelte-hg83fw")},m(t,k){x(t,e,k),b(e,n),b(e,r),b(e,o),b(e,i),b(e,a),b(a,s),b(a,l),B.m(a,null),b(e,c),b(e,u),b(e,h),b(e,f),b(e,d),b(e,g),b(e,p),b(e,m),b(m,y),b(m,v),b(m,w),b(m,_),b(m,T),b(T,M),b(T,C),b(C,S),b(T,D),b(T,H),b(T,j),b(T,U),b(T,I),b(T,O),b(T,F)},p(t,e){q===(q=R(t))&&B?B.p(t,e):(B.d(1),B=q(t),B&&(B.c(),B.m(a,null))),32&e[0]&&Y!==(Y=t[5].case+"")&&L(S,Y),32&e[0]&&P!==(P=t[5].total_victims+"")&&L(H,P),2&e[0]&&W!==(W=t[1].length+"")&&L(U,W),64&e[0]&&L(O,t[6])},d(t){t&&k(e),B.d()}}}function Hc(t){let e,n,r,o,i,a;function s(e){t[29](e)}function l(e){t[30](e)}function c(e){t[31](e)}function u(e){t[32](e)}let h={top:.2,bottom:1,$$slots:{foreground:[Lc],background:[Sc]},$$scope:{ctx:t}};return void 0!==t[0]&&(h.index=t[0]),void 0!==t[2]&&(h.offset=t[2]),void 0!==t[3]&&(h.progress=t[3]),void 0!==t[4]&&(h.count=t[4]),e=new Rs({props:h}),W.push((()=>it(e,"index",s))),W.push((()=>it(e,"offset",l))),W.push((()=>it(e,"progress",c))),W.push((()=>it(e,"count",u))),{c(){at(e.$$.fragment)},m(t,n){st(e,t,n),a=!0},p(t,a){const s={};2018&a[0]|67108864&a[1]&&(s.$$scope={dirty:a,ctx:t}),!n&&1&a[0]&&(n=!0,s.index=t[0],X((()=>n=!1))),!r&&4&a[0]&&(r=!0,s.offset=t[2],X((()=>r=!1))),!o&&8&a[0]&&(o=!0,s.progress=t[3],X((()=>o=!1))),!i&&16&a[0]&&(i=!0,s.count=t[4],X((()=>i=!1))),e.$set(s)},i(t){a||(et(e.$$.fragment,t),a=!0)},o(t){nt(e.$$.fragment,t),a=!1},d(t){lt(e,t)}}}function jc(t,e,n){let r,o,i,a,s,c,u,h,f,d,{data1:g}=e,{data2:p}=e,{selected:m}=e;p=p.filter((t=>"NA"!==t.victim_age));const y=Lo(","),v={t:75,r:150,b:100,l:70},w=.9*window.innerWidth*.6,_=window.innerHeight-200;let b=w>_?_:w,x=b-v.t-v.b;const k=w-v.l-v.r,T=[...Array(13).keys()].map((t=>1e4*t)),$=[...Array(101).keys()].filter((t=>t%10==0)),M=Ko().domain([0,100]).range([v.l,k]),A=Ko().domain(mt(p,(t=>t.total_words))).range([x,v.t]);let N={x:"Suspect's age",y:"Total number of words"};const C={r:255,g:165,b:0},S=238;let E=zs(p.map((t=>({cx:0,cy:0,cr:0,strokeWidth:0,opacity:1,r:0,g:0,b:0,id:t.id}))),{stiffness:.1,damping:.9});l(t,E,(t=>n(10,o=t)));let D,L,H=zs(g.map((t=>({strokeOpacity:.1,totalWords:t.total_words,r:0,g:0,b:0}))),{stiffness:.1,damping:.9});l(t,H,(t=>n(9,r=t)));let j=w/600;return t.$$set=t=>{"data1"in t&&n(25,g=t.data1),"data2"in t&&n(24,p=t.data2),"selected"in t&&n(26,m=t.selected)},t.$$.update=()=>{if(100663296&t.$$.dirty[0]&&n(5,u=g.filter((t=>t.id===m))[0]),83886082&t.$$.dirty[0]){n(1,h=p.filter((t=>t.id===m)));let t=h.map((t=>t.victim_age)).reduce(((t,e)=>t+e),0);n(6,f=Math.round(t/h.length*10)/10)}520093697&t.$$.dirty[0]&&(xo(p.filter((t=>"NA"!==t.victims_age&&"14-20"!==t.victims_age))).force("collide",function(t){var e,n,r,o=1,i=1;function a(){for(var t,a,l,c,u,h,f,d=e.length,g=0;g<i;++g)for(a=ho(e,vo,wo).visitAfter(s),t=0;t<d;++t)l=e[t],h=n[l.index],f=h*h,c=l.x+l.vx,u=l.y+l.vy,a.visit(p);function p(t,e,n,i,a){var s=t.data,d=t.r,g=h+d;if(!s)return e>c+g||i<c-g||n>u+g||a<u-g;if(s.index>l.index){var p=c-s.x-s.vx,m=u-s.y-s.vy,y=p*p+m*m;y<g*g&&(0===p&&(y+=(p=yo(r))*p),0===m&&(y+=(m=yo(r))*m),y=(g-(y=Math.sqrt(y)))/y*o,l.vx+=(p*=y)*(g=(d*=d)/(f+d)),l.vy+=(m*=y)*g,s.vx-=p*(g=1-g),s.vy-=m*g)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!=typeof t&&(t=mo(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),l(),a):t},a}().radius(1.1*j)).force("x",function(t){var e,n,r,o=mo(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=mo(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:mo(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),a(),i):t},i}().x((t=>M(t.victim_age)))).force("y",function(t){var e,n,r,o=mo(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=mo(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:mo(+t),a(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),a(),i):t},i}().y((t=>A(t.total_words)))).stop().tick(100),0===i?(n(7,d="Age of suspects and the total number of words"),n(8,N={x:"Suspect's age",y:"Total number of words"}),n(27,D=p.map((t=>({cx:"NA"==t.suspect_2_age?M(t.suspect_1_age):M((t.suspect_1_age+t.suspect_2_age)/2),cy:A(t.total_words),cr:3,strokeWidth:0,opacity:1===t.victim_count?.8:0,r:S,g:S,b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:0,totalWords:t.total_words,r:0,g:0,b:0}))))):1===i?(n(27,D=p.map((t=>({cx:"NA"==t.suspect_2_age?M(t.suspect_1_age):M((t.suspect_1_age+t.suspect_2_age)/2),cy:A(t.total_words),cr:3,strokeWidth:0,opacity:1!==t.victim_count?0:25===t.id||33===t.id?.8:.1,r:S,g:S,b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:0,totalWords:t.total_words,r:0,g:0,b:0}))))):2===i?(n(27,D=p.map((t=>({cx:"NA"==t.suspect_2_age?M(t.suspect_1_age):M((t.suspect_1_age+t.suspect_2_age)/2),cy:A(t.total_words),cr:3,strokeWidth:0,opacity:1!==t.victim_count?0:t.suspect_1_age>=15&&t.suspect_1_age<=25||t.id===m?.8:.1,r:t.id===m?C.r:S,g:t.id===m?C.g:S,b:t.id===m?C.b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:0,totalWords:t.total_words,r:0,g:0,b:0}))))):3===i?(n(7,d="Ages of victims and the total number of words"),n(8,N={x:"Victim's age",y:"Total number of words"}),n(27,D=p.map((t=>({cx:t.x,cy:t.y,cr:j,strokeWidth:0,opacity:0===t.x?0:1,r:S,g:S,b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:.1,totalWords:t.total_words,r:S,g:S,b:S}))))):4===i?(n(27,D=p.map((t=>({cx:t.x,cy:t.y,cr:j,strokeWidth:0,opacity:0===t.x?0:62===t.id||27===t.id||42===t.id?1:.1,r:S,g:S,b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:62===t.id||27===t.id||42===t.id?.8:.1,totalWords:t.total_words,r:S,g:S,b:S}))))):5===i?(n(27,D=p.map((t=>({cx:t.x,cy:t.y,cr:j,strokeWidth:0,opacity:0===t.x?0:112===t.id||40===t.id?1:.1,r:S,g:S,b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:112===t.id||40===t.id?.8:.1,totalWords:t.total_words,r:S,g:S,b:S}))))):6===i&&(n(27,D=p.map((t=>({cx:t.x,cy:t.y,cr:j,strokeWidth:0,opacity:0===t.x?0:1,r:t.id===m?C.r:S,g:t.id===m?C.g:S,b:t.id===m?C.b:S,id:t.id})))),n(28,L=g.map((t=>({strokeOpacity:t.id===m?.8:.1,totalWords:t.total_words,r:t.id===m?C.r:S,g:t.id===m?C.g:S,b:t.id===m?C.b:S}))))),E.set(D),H.set(L))},[i,h,a,s,c,u,f,d,N,r,o,y,v,w,b,x,k,T,$,M,A,(t,e)=>`transform: translate(${t}px, ${e}px)`,E,H,p,g,m,D,L,function(t){i=t,n(0,i)},function(t){a=t,n(2,a)},function(t){s=t,n(3,s)},function(t){c=t,n(4,c)}]}class Uc extends ht{constructor(t){super(),ut(this,t,jc,Hc,i,{data1:25,data2:24,selected:26},null,[-1,-1])}}function Ic(t,e,n){const r=t.slice();return r[13]=e[n],r}function Oc(t,e,n){const r=t.slice();return r[16]=e[n],r}function Fc(t,e,n){const r=t.slice();return r[19]=e[n],r}function Yc(t,e,n){const r=t.slice();return r[13]=e[n],r}function Pc(t,e,n){const r=t.slice();return r[16]=e[n],r}function Wc(t,e,n){const r=t.slice();return r[19]=e[n],r}function Rc(t){let e,n,r,o,i,a,s,l,c,u=t[9](t[8](t[19]))+"";return{c(){e=M("text"),n=A(u),i=M("line"),E(e,"x",r=t[10](t[8](t[19]))),E(e,"y",o=t[6]+120),E(e,"fill","white"),E(e,"text-anchor","middle"),E(i,"x1",a=t[10](t[8](t[19]))),E(i,"y1",s=t[4].t),E(i,"x2",l=t[10](t[8](t[19]))),E(i,"y2",c=t[6]+120),E(i,"stroke-width","0.5"),E(i,"stroke","white"),E(i,"stroke-opacity","0.2")},m(t,r){x(t,e,r),b(e,n),x(t,i,r)},p(t,o){8&o&&u!==(u=t[9](t[8](t[19]))+"")&&L(n,u),8&o&&r!==(r=t[10](t[8](t[19])))&&E(e,"x",r),8&o&&a!==(a=t[10](t[8](t[19])))&&E(i,"x1",a),8&o&&l!==(l=t[10](t[8](t[19])))&&E(i,"x2",l)},d(t){t&&k(e),t&&k(i)}}}function qc(e){let n,r,o,i,a,s,l,c,u,h=e[16]+"";return{c(){n=M("text"),r=A(h),a=M("line"),E(n,"x",o=e[4].l-5),E(n,"y",i=e[11](e[16])+5),E(n,"fill","white"),E(n,"text-anchor","end"),E(a,"x1",s=e[4].l),E(a,"y1",l=e[11](e[16])),E(a,"x2",c=e[5]-e[4].r),E(a,"y2",u=e[11](e[16])),E(a,"stroke-width","1.5"),E(a,"stroke","white"),E(a,"stroke-opacity","0.2")},m(t,e){x(t,n,e),b(n,r),x(t,a,e)},p:t,d(t){t&&k(n),t&&k(a)}}}function Bc(t){let e,n,r,o,i,a,s,l,c;return{c(){e=M("circle"),E(e,"cx",n=t[10](t[13].shooting_date)),E(e,"cy",r=t[11](t[13].rank)),E(e,"r","5"),E(e,"stroke",o=t[13].id===t[1]?"orange":"#cccccc"),E(e,"stroke-width","0.4"),E(e,"fill",i=t[13].id===t[1]?"orange":"#cccccc"),E(e,"fill-opacity",a="TRUE"==t[13].hate?1:.1),E(e,"stroke-opacity",s="TRUE"==t[13].hate?1:.4),E(e,"rank",l=t[13].rank),E(e,"id",c=t[13].id)},m(t,n){x(t,e,n)},p(t,u){1&u&&n!==(n=t[10](t[13].shooting_date))&&E(e,"cx",n),1&u&&r!==(r=t[11](t[13].rank))&&E(e,"cy",r),3&u&&o!==(o=t[13].id===t[1]?"orange":"#cccccc")&&E(e,"stroke",o),3&u&&i!==(i=t[13].id===t[1]?"orange":"#cccccc")&&E(e,"fill",i),1&u&&a!==(a="TRUE"==t[13].hate?1:.1)&&E(e,"fill-opacity",a),1&u&&s!==(s="TRUE"==t[13].hate?1:.4)&&E(e,"stroke-opacity",s),1&u&&l!==(l=t[13].rank)&&E(e,"rank",l),1&u&&c!==(c=t[13].id)&&E(e,"id",c)},d(t){t&&k(e)}}}function Vc(t){let e;return{c(){e=A("was not")},m(t,n){x(t,e,n)},d(t){t&&k(e)}}}function zc(t){let e;return{c(){e=A("was")},m(t,n){x(t,e,n)},d(t){t&&k(e)}}}function Xc(t){let e,n,r,o,i,a,s,l,c,u=t[9](t[8](t[19]))+"";return{c(){e=M("text"),n=A(u),i=M("line"),E(e,"x",r=t[10](t[8](t[19]))),E(e,"y",o=t[6]+120),E(e,"fill","white"),E(e,"text-anchor","middle"),E(i,"x1",a=t[10](t[8](t[19]))),E(i,"y1",s=t[4].t),E(i,"x2",l=t[10](t[8](t[19]))),E(i,"y2",c=t[6]+120),E(i,"stroke-width","0.5"),E(i,"stroke","white"),E(i,"stroke-opacity","0.2")},m(t,r){x(t,e,r),b(e,n),x(t,i,r)},p(t,o){8&o&&u!==(u=t[9](t[8](t[19]))+"")&&L(n,u),8&o&&r!==(r=t[10](t[8](t[19])))&&E(e,"x",r),8&o&&a!==(a=t[10](t[8](t[19])))&&E(i,"x1",a),8&o&&l!==(l=t[10](t[8](t[19])))&&E(i,"x2",l)},d(t){t&&k(e),t&&k(i)}}}function Zc(e){let n,r,o,i,a,s,l,c,u,h=e[16]+"";return{c(){n=M("text"),r=A(h),a=M("line"),E(n,"x",o=e[4].l-5),E(n,"y",i=e[11](e[16])+5),E(n,"fill","white"),E(n,"text-anchor","end"),E(a,"x1",s=e[4].l),E(a,"y1",l=e[11](e[16])),E(a,"x2",c=e[5]-e[4].r),E(a,"y2",u=e[11](e[16])),E(a,"stroke-width","1.5"),E(a,"stroke","white"),E(a,"stroke-opacity","0.2")},m(t,e){x(t,n,e),b(n,r),x(t,a,e)},p:t,d(t){t&&k(n),t&&k(a)}}}function Jc(t){let e,n,r,o,i,a,s,l,c;return{c(){e=M("circle"),E(e,"cx",n=t[10](t[13].shooting_date)),E(e,"cy",r=t[11](t[13].rank)),E(e,"r","5"),E(e,"stroke",o=t[13].id===t[1]?"orange":"#cccccc"),E(e,"stroke-width","0.4"),E(e,"fill",i=t[13].id===t[1]?"orange":"#cccccc"),E(e,"fill-opacity",a="TRUE"==t[13].terrorism?1:.1),E(e,"stroke-opacity",s="TRUE"==t[13].terrorism?1:.4),E(e,"rank",l=t[13].rank),E(e,"id",c=t[13].id)},m(t,n){x(t,e,n)},p(t,u){1&u&&n!==(n=t[10](t[13].shooting_date))&&E(e,"cx",n),1&u&&r!==(r=t[11](t[13].rank))&&E(e,"cy",r),3&u&&o!==(o=t[13].id===t[1]?"orange":"#cccccc")&&E(e,"stroke",o),3&u&&i!==(i=t[13].id===t[1]?"orange":"#cccccc")&&E(e,"fill",i),1&u&&a!==(a="TRUE"==t[13].terrorism?1:.1)&&E(e,"fill-opacity",a),1&u&&s!==(s="TRUE"==t[13].terrorism?1:.4)&&E(e,"stroke-opacity",s),1&u&&l!==(l=t[13].rank)&&E(e,"rank",l),1&u&&c!==(c=t[13].id)&&E(e,"id",c)},d(t){t&&k(e)}}}function Gc(t){let e;return{c(){e=A("was not")},m(t,n){x(t,e,n)},d(t){t&&k(e)}}}function Qc(t){let e;return{c(){e=A("was")},m(t,n){x(t,e,n)},d(t){t&&k(e)}}}function Kc(e){let n,r,o,i,a,s,l,c,u,h,f,d,g,p,m,y,v,w,_,S,D,H,j,U,I,O,F,Y,P,W,R,q,B,V,z,X,Z,J,G,Q,K,tt,et,nt,rt,ot,it,at,st,lt,ct,ut,ht,ft,dt,gt,pt,mt,yt,vt,wt,_t,bt,xt,kt,Tt,$t,Mt,At,Nt,Ct,St=e[2].case+"",Et=e[2].case+"",Dt=e[3],Lt=[];for(let t=0;t<Dt.length;t+=1)Lt[t]=Rc(Wc(e,Dt,t));let Ht=e[12],jt=[];for(let t=0;t<Ht.length;t+=1)jt[t]=qc(Pc(e,Ht,t));let Ut=e[0],It=[];for(let t=0;t<Ut.length;t+=1)It[t]=Bc(Yc(e,Ut,t));function Ot(t,e){return"TRUE"==t[2].hate?zc:Vc}let Ft=Ot(e),Yt=Ft(e),Pt=e[3],Wt=[];for(let t=0;t<Pt.length;t+=1)Wt[t]=Xc(Fc(e,Pt,t));let Rt=e[12],qt=[];for(let t=0;t<Rt.length;t+=1)qt[t]=Zc(Oc(e,Rt,t));let Bt=e[0],Vt=[];for(let t=0;t<Bt.length;t+=1)Vt[t]=Jc(Ic(e,Bt,t));function zt(t,e){return"TRUE"==t[2].terrorism?Qc:Gc}let Xt=zt(e),Zt=Xt(e);return{c(){n=$("article"),n.innerHTML='<h3>Is it because it was linked to an act of hate or terrorism?</h3> \n  <p>By contrast, mass shootings that are linked to hate crimes or terrorism are heavily reported.</p> \n  <h4>Hate crimes</h4> \n  <p>There have been 15 shootings that were linked to possible hate crimes. These include nine that were listed in <a href="https://www.fbi.gov/services/cjis/ucr/data-documentation#Hate-Crime" target="_blank">FBI’s Hate Crime Statistics</a> between 1991 and 2020, as well as six others that were not necessarily declared as a hate crime by FBI, but reported as a possible hate crime -- the Stockton elementary school shooting in 1989, the Wedgwood Baptist Church shooting in 1993, the Isla Vista mass murder in 2014, the Colorado Springs Planned Parenthood shooting in 2015, the Orlando nightclub massacre in 2016, and the Atlanta spa shootings this year.</p> \n  <p>In the shooting in Atlanta this year, eight people were killed, six of whom were Asian women. First portrayed as a possible hate crime against Asians, the shooting generated more coverage, often tied to racial animosity fueled by concerns about the coronavirus, which was first found in China.</p>',r=N(),o=$("div"),i=$("div"),a=N(),s=M("svg"),l=M("g"),c=M("text"),u=A("Coverage of shootings that involved Hate crimes\n      "),h=M("g"),f=M("text"),d=A("← Less coverage\n      "),g=M("text"),p=A("More coverage →\n      "),m=M("text"),y=A("Rank\n      "),v=M("text"),w=A("Date of the shooting\n      "),_=M("g");for(let t=0;t<Lt.length;t+=1)Lt[t].c();S=C();for(let t=0;t<jt.length;t+=1)jt[t].c();D=M("g");for(let t=0;t<It.length;t+=1)It[t].c();H=N(),j=$("article"),U=$("p"),U.textContent="The top two most-reported incidents, ones in El Paso and Orlando, were reported as hate crimes, the former against Latino immigrants, the latter against gay people. Among all other hate-related shootings generated more coverage than the others, 11 of them were within the top 30 most-reported mass shootings by The Times.",I=N(),O=$("p"),F=A("The shooting you selected, the "),Y=$("span"),P=A(St),W=A(",\n      "),Yt.c(),R=A("\n    reported as a hate crime."),q=N(),B=$("br"),V=$("br"),z=$("br"),X=N(),Z=$("article"),Z.innerHTML='<h4>Terrorism</h4> \n  <p>According to a database on global terrorism maintained by the University of Maryland, <a href="https://www.start.umd.edu/gtd/" target="_blank">Global Terrorism Database</a>, which covers all terrorist attacks from 1970 to 2019, there have been 22 terror attacks that were also defined as mass shootings by Mother Jones. In 2020 and 2021, this project found links to terrorism in the Atlanta massage parlor shootings, where the suspect was later indicted on charges including domestic terrorism.</p>',J=N(),G=$("div"),Q=$("div"),K=N(),tt=M("svg"),et=M("g"),nt=M("text"),rt=A("Coverage of shootings that involved Terrorism\n      "),ot=M("g"),it=M("text"),at=A("← Less coverage\n      "),st=M("text"),lt=A("More coverage →\n      "),ct=M("text"),ut=A("Rank\n      "),ht=M("text"),ft=A("Date of the shooting\n      "),dt=M("g");for(let t=0;t<Wt.length;t+=1)Wt[t].c();gt=C();for(let t=0;t<qt.length;t+=1)qt[t].c();pt=M("g");for(let t=0;t<Vt.length;t+=1)Vt[t].c();mt=N(),yt=$("article"),vt=$("p"),vt.textContent="Out of these 23 terrorism-related incidents, 22 happened after the 9/11 attacks in 2001 -- Columbine High School massacre in 1999 was the only exception. Most of these are among the most high-profile mass shootings in the U.S. and generated with a massive amount of coverage.",wt=N(),_t=$("p"),_t.textContent='These include the 2009 shooting at the Fort Hood Army post in Texas, where an army major fatally shot 13 people, possibly motivated by Islamic extremism, and San Bernardino mass shooting in 2015, where 14 people were killed by a married couple who the FBI described as "homegrown violent extremists" inspired by foreign terrorist groups. The San Bernardino attack was the distinctive outlier of workplace shootings, most of which were conducted by former or current employees and weren’t covered as much.',bt=N(),xt=$("p"),xt.textContent="Similar to hate-related ones, most shootings that were considered as an act of terror were reported relatively widely, 18 out of 23 ranked within top 25%.",kt=N(),Tt=$("p"),$t=A("The shooting you selected, the "),Mt=$("span"),At=A(Et),Nt=A(",\n      "),Zt.c(),Ct=A("\n    reported as an act of terror."),E(i,"class","tooltip"),E(c,"transform","translate(0, 30)"),E(l,"class","chart-title"),E(f,"class","axis-label small svelte-1yt6wl1"),E(f,"transform","translate(35, 450) rotate(-90)"),E(g,"class","axis-label small svelte-1yt6wl1"),E(g,"transform","translate(35, 200) rotate(-90)"),E(m,"class","axis-label"),E(m,"transform",`translate(15, ${tu/2}) rotate(-90)`),E(m,"text-anchor","end"),E(v,"class","axis-label"),E(v,"x",e[7]/2+40),E(v,"y",e[6]+145),E(v,"text-anchor","middle"),E(h,"class","axis-titles"),E(_,"class","axis-ticks svelte-1yt6wl1"),E(D,"class","circles"),E(s,"width",e[5]),E(s,"height",tu),E(o,"class","chart chart__hate svelte-1yt6wl1"),E(Y,"class","svelte-1yt6wl1"),E(Q,"class","tooltip"),E(nt,"transform","translate(0, 30)"),E(et,"class","chart-title"),E(it,"class","axis-label small svelte-1yt6wl1"),E(it,"transform","translate(35, 450) rotate(-90)"),E(st,"class","axis-label small svelte-1yt6wl1"),E(st,"transform","translate(35, 200) rotate(-90)"),E(ct,"class","axis-label"),E(ct,"transform",`translate(15, ${tu/2}) rotate(-90)`),E(ct,"text-anchor","end"),E(ht,"class","axis-label"),E(ht,"x",e[7]/2+40),E(ht,"y",e[6]+145),E(ht,"text-anchor","middle"),E(ot,"class","axis-titles"),E(dt,"class","axis-ticks svelte-1yt6wl1"),E(pt,"class","circles"),E(tt,"width",e[5]),E(tt,"height",tu),E(G,"class","chart chart__hate svelte-1yt6wl1"),E(Mt,"class","svelte-1yt6wl1")},m(t,e){x(t,n,e),x(t,r,e),x(t,o,e),b(o,i),b(o,a),b(o,s),b(s,l),b(l,c),b(c,u),b(s,h),b(h,f),b(f,d),b(h,g),b(g,p),b(h,m),b(m,y),b(h,v),b(v,w),b(s,_);for(let t=0;t<Lt.length;t+=1)Lt[t].m(_,null);b(_,S);for(let t=0;t<jt.length;t+=1)jt[t].m(_,null);b(s,D);for(let t=0;t<It.length;t+=1)It[t].m(D,null);x(t,H,e),x(t,j,e),b(j,U),b(j,I),b(j,O),b(O,F),b(O,Y),b(Y,P),b(O,W),Yt.m(O,null),b(O,R),x(t,q,e),x(t,B,e),x(t,V,e),x(t,z,e),x(t,X,e),x(t,Z,e),x(t,J,e),x(t,G,e),b(G,Q),b(G,K),b(G,tt),b(tt,et),b(et,nt),b(nt,rt),b(tt,ot),b(ot,it),b(it,at),b(ot,st),b(st,lt),b(ot,ct),b(ct,ut),b(ot,ht),b(ht,ft),b(tt,dt);for(let t=0;t<Wt.length;t+=1)Wt[t].m(dt,null);b(dt,gt);for(let t=0;t<qt.length;t+=1)qt[t].m(dt,null);b(tt,pt);for(let t=0;t<Vt.length;t+=1)Vt[t].m(pt,null);x(t,mt,e),x(t,yt,e),b(yt,vt),b(yt,wt),b(yt,_t),b(yt,bt),b(yt,xt),b(yt,kt),b(yt,Tt),b(Tt,$t),b(Tt,Mt),b(Mt,At),b(Tt,Nt),Zt.m(Tt,null),b(Tt,Ct)},p(t,[e]){if(1880&e){let n;for(Dt=t[3],n=0;n<Dt.length;n+=1){const r=Wc(t,Dt,n);Lt[n]?Lt[n].p(r,e):(Lt[n]=Rc(r),Lt[n].c(),Lt[n].m(_,S))}for(;n<Lt.length;n+=1)Lt[n].d(1);Lt.length=Dt.length}if(6192&e){let n;for(Ht=t[12],n=0;n<Ht.length;n+=1){const r=Pc(t,Ht,n);jt[n]?jt[n].p(r,e):(jt[n]=qc(r),jt[n].c(),jt[n].m(_,null))}for(;n<jt.length;n+=1)jt[n].d(1);jt.length=Ht.length}if(3075&e){let n;for(Ut=t[0],n=0;n<Ut.length;n+=1){const r=Yc(t,Ut,n);It[n]?It[n].p(r,e):(It[n]=Bc(r),It[n].c(),It[n].m(D,null))}for(;n<It.length;n+=1)It[n].d(1);It.length=Ut.length}if(4&e&&St!==(St=t[2].case+"")&&L(P,St),Ft!==(Ft=Ot(t))&&(Yt.d(1),Yt=Ft(t),Yt&&(Yt.c(),Yt.m(O,R))),1880&e){let n;for(Pt=t[3],n=0;n<Pt.length;n+=1){const r=Fc(t,Pt,n);Wt[n]?Wt[n].p(r,e):(Wt[n]=Xc(r),Wt[n].c(),Wt[n].m(dt,gt))}for(;n<Wt.length;n+=1)Wt[n].d(1);Wt.length=Pt.length}if(6192&e){let n;for(Rt=t[12],n=0;n<Rt.length;n+=1){const r=Oc(t,Rt,n);qt[n]?qt[n].p(r,e):(qt[n]=Zc(r),qt[n].c(),qt[n].m(dt,null))}for(;n<qt.length;n+=1)qt[n].d(1);qt.length=Rt.length}if(3075&e){let n;for(Bt=t[0],n=0;n<Bt.length;n+=1){const r=Ic(t,Bt,n);Vt[n]?Vt[n].p(r,e):(Vt[n]=Jc(r),Vt[n].c(),Vt[n].m(pt,null))}for(;n<Vt.length;n+=1)Vt[n].d(1);Vt.length=Bt.length}4&e&&Et!==(Et=t[2].case+"")&&L(At,Et),Xt!==(Xt=zt(t))&&(Zt.d(1),Zt=Xt(t),Zt&&(Zt.c(),Zt.m(Tt,Ct)))},i:t,o:t,d(t){t&&k(n),t&&k(r),t&&k(o),T(Lt,t),T(jt,t),T(It,t),t&&k(H),t&&k(j),Yt.d(),t&&k(q),t&&k(B),t&&k(V),t&&k(z),t&&k(X),t&&k(Z),t&&k(J),t&&k(G),T(Wt,t),T(qt,t),T(Vt,t),t&&k(mt),t&&k(yt),Zt.d()}}}const tu=500;function eu(t,e,n){let r,{data:o}=e,{selected:i}=e;o=o.filter((t=>"NA"!==t.rank));const a={t:100,r:50,b:50,l:75},s=.9*window.innerWidth*.6;let l=tu-a.t-a.b;const c=s-a.l-a.r,u=ea("%m/%d/%y"),h=ta("%Y"),f=xs().domain([u("01/01/81"),u("12/31/21")]).range([a.l,s-a.r]),d=Ko().domain([118,0]).range([tu-a.b,a.t]);let g=[...Array(40).keys()].map((t=>t+1982)).map((t=>t.toString())).map((t=>t.slice(-2))).filter((t=>t%5==0));g=g.map((t=>"01/01/".concat("",t)));return t.$$set=t=>{"data"in t&&n(0,o=t.data),"selected"in t&&n(1,i=t.selected)},t.$$.update=()=>{3&t.$$.dirty&&n(2,r=o.filter((t=>t.id===i))[0])},[o,i,r,g,a,s,l,c,u,h,f,d,[1,30,60,90,120]]}class nu extends ht{constructor(t){super(),ut(this,t,eu,Kc,i,{data:0,selected:1})}}function ru(e){let n,r,o;return{c(){n=$("article"),n.innerHTML="<h3>Or something else?</h3> \n  <p>Some other possible factors that contribute to the difference in coverage: whether the shooting was linked to the election coverage; whether there was another shooting right before or after; whether there was other big news on the same day; and the size of the city where the shooting happened.</p>",r=N(),o=$("article"),o.innerHTML="<h2>Media’s decision making signals what’s more worthy</h2> \n  <p>Since all shootings have substantially different profiles, it is difficult to find a single answer to “Why are some shootings more newsworthy than others?” Although the number of victims, as well as other factors -- shooting locations, the profiles of shooters and victims, and whether they were connected with hate crimes or terrorism -- contribute to determine the coverage size in some ways, they are complicatedly related to each other and other factors.</p> \n  <p>But it is clear that there is a general trend where workplace shootings and those involving domestic violence have been underreported, while shootings linked to terrorism and hate have been covered heavily.</p> \n  <p>This is the result of choices that the editors of the Times have made, and it signals to readers that some shootings are more worthy of attention than the others. The media’s decision making on what, how much to cover, and where to place the story, shapes a narrative of importance of news events, building the reader’s perception of what’s important.</p> \n  <p>Are victims of domestic violence less important than those of hate crimes? Should we be more concerned with violent acts by extremists than bad relationships with our family or coworkers? There is no single answer, but journalists are constantly tasked to make these difficult decisions.</p> \n  <p>Since all mass shootings are horrific tragedies and involve multiple murders by definition, they need media’s particularly careful decision making in the amount and profile of coverage.</p>",E(n,"class","svelte-1o1k7ga"),E(o,"class","svelte-1o1k7ga")},m(t,e){x(t,n,e),x(t,r,e),x(t,o,e)},p:t,i:t,o:t,d(t){t&&k(n),t&&k(r),t&&k(o)}}}class ou extends ht{constructor(t){super(),ut(this,t,null,ru,i,{})}}const{window:iu}=ot;function au(t,e,n){const r=t.slice();return r[20]=e[n],r}function su(t,e,n){const r=t.slice();return r[20]=e[n],r}function lu(e){let n,r,o,i,a,s,l=e[20].case+"",c=e[20].year+"";return{c(){n=$("option"),r=A(l),o=A(" ("),i=A(c),a=A(")"),n.__value=s=e[20],n.value=n.__value,E(n,"class","svelte-xh3s86")},m(t,e){x(t,n,e),b(n,r),b(n,o),b(n,i),b(n,a)},p:t,d(t){t&&k(n)}}}function cu(t){let e,n,r,o,i,a=1===t[5].injured?"another person was":"",s=(1===t[5].injured?"":t[5].injured)+"",l=1===t[5].injured?"":" others were";return{c(){e=A("and "),n=A(a),r=A(s),o=A(l),i=A(" wounded.")},m(t,a){x(t,e,a),x(t,n,a),x(t,r,a),x(t,o,a),x(t,i,a)},p(t,e){32&e&&a!==(a=1===t[5].injured?"another person was":"")&&L(n,a),32&e&&s!==(s=(1===t[5].injured?"":t[5].injured)+"")&&L(r,s),32&e&&l!==(l=1===t[5].injured?"":" others were")&&L(o,l)},d(t){t&&k(e),t&&k(n),t&&k(r),t&&k(o),t&&k(i)}}}function uu(e){let n;return{c(){n=$("span"),E(n,"class","svelte-xh3s86")},m(t,e){x(t,n,e)},p:t,d(t){t&&k(n)}}}function hu(t){let e,n,o,i,a,s,l,c,u=t[7],h=[];for(let e=0;e<u.length;e+=1)h[e]=fu(au(t,u,e));return{c(){e=$("div"),n=$("div"),n.innerHTML='<div class="nav-item overview svelte-xh3s86" style="border-bottom: 2px solid orange">Overview</div> \n        <div class="nav-item fatalities svelte-xh3s86">Fatalities</div> \n        <div class="nav-item locations svelte-xh3s86">Locations</div> \n        <div class="nav-item profiles svelte-xh3s86">Profiles</div> \n        <div class="nav-item hate-terror svelte-xh3s86">Hate/terror</div>',o=N(),i=$("div"),a=A("You chose: \n        "),s=$("select");for(let t=0;t<h.length;t+=1)h[t].c();E(n,"class","nav-items svelte-xh3s86"),E(s,"class","svelte-xh3s86"),void 0===t[6]&&z((()=>t[15].call(s))),E(i,"class","nav-dropdown svelte-xh3s86"),E(e,"class","sticky-nav svelte-xh3s86")},m(r,u){x(r,e,u),b(e,n),b(e,o),b(e,i),b(i,a),b(i,s);for(let t=0;t<h.length;t+=1)h[t].m(s,null);j(s,t[6]),l||(c=[S(s,"change",t[15]),S(s,"change",t[9])],l=!0)},p(t,e){if(128&e){let n;for(u=t[7],n=0;n<u.length;n+=1){const r=au(t,u,n);h[n]?h[n].p(r,e):(h[n]=fu(r),h[n].c(),h[n].m(s,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=u.length}320&e&&j(s,t[6])},d(t){t&&k(e),T(h,t),l=!1,r(c)}}}function fu(e){let n,r,o,i,a,s,l=e[20].case+"",c=e[20].year+"";return{c(){n=$("option"),r=A(l),o=A(" ("),i=A(c),a=A(")"),n.__value=s=e[20],n.value=n.__value,E(n,"class","svelte-xh3s86")},m(t,e){x(t,n,e),b(n,r),b(n,o),b(n,i),b(n,a)},p:t,d(t){t&&k(n)}}}function du(t){let e,n,i,a,s,l,c,u,h,f,d,g,m,y,v,w,_,M,C,D,H,U,I,O,F,Y,P,R,q,B,V,Z,J,G,Q,K,tt,rt,ot,ct,ut,ht,ft,dt,gt,pt,mt,yt,vt,wt,_t,bt,xt,kt,Tt,$t,Mt,At,Nt,Ct,St,Et,Dt,Lt,Ht,jt,Ut,It,Ot,Ft,Yt,Pt,Wt,Rt,qt,Bt,Vt,zt,Xt,Zt,Jt,Gt,Qt,Kt,te,ee,ne,re,oe,ie=!1,ae=()=>{ie=!1},se=t[5].case+"",le=t[5].year+"",ce=t[5].city+"",ue=t[5].state+"",he=t[5].fatalities+"",fe=0===t[5].injured?".":"",de=t[5].case+"";function ge(e){t[13](e)}z(t[12]);let pe={};void 0!==t[5]&&(pe.data=t[5]),s=new Es({props:pe}),W.push((()=>it(s,"data",ge)));let me=t[8],ye=[];for(let e=0;e<me.length;e+=1)ye[e]=lu(su(t,me,e));function ve(t,e){return 0===t[5].injured?uu:cu}let we=ve(t),_e=we(t),be=t[4]>3500&&t[4]<3e4&&hu(t);return Lt=new bl({props:{data:t[0],selected:t[5].id}}),Ot=new Xl({props:{data:t[0],selected:t[5].id}}),Rt=new bc({props:{data:t[0],selected:t[5].id}}),Xt=new Uc({props:{data1:t[0],data2:t[1],selected:t[5].id}}),Kt=new nu({props:{data:t[0],selected:t[5].id}}),ee=new ou({}),{c(){n=$("article"),n.innerHTML="<p>When you hear the words “mass shooting,” which one comes to your mind first? America’s deadliest shooting in Las Vegas in 2017? The recent one in Atlanta, or one of the school shootings? Or one that happened where you live or one that affected you or your family, friends?</p>",i=N(),a=$("div"),at(s.$$.fragment),c=N(),u=$("div"),h=$("p"),h.textContent="Tell me one tragedy you remember the most. I picked Las Vegas Strip massacre. You can keep it as Las Vegas too.",f=N(),d=$("p"),d.textContent="The image on the left shows the copy of the NYT page with first major reports of your selected incident.",g=N(),m=$("div"),y=$("button"),y.textContent="Las Vegas Strip massacre",v=N(),w=$("button"),w.textContent="El Paso Walmart shooting",_=N(),M=$("button"),M.textContent="Columbine High School massacre",C=N(),D=$("div"),H=A("Another one:\n        "),U=$("select");for(let t=0;t<ye.length;t+=1)ye[t].c();I=N(),O=$("p"),F=A(se),Y=A(" happened in "),P=A(le),R=A(" in "),q=A(ce),B=A(", "),V=A(ue),Z=A(". "),J=A(he),G=A(" people were killed"),Q=A(fe),K=N(),_e.c(),tt=N(),rt=$("article"),ot=$("h1"),ct=A("How much was the "),ut=$("span"),ht=A(de),ft=A(" reported, compared to other shootings?"),dt=N(),gt=$("p"),gt.textContent="Some of these may be more memorable because they were reported more widely than others. In fact, there are big differences in the coverage of mass shootings. While all these incidents are horrific, some attracted significantly more media attention.",pt=N(),mt=$("p"),mt.textContent="A close look at which shootings got the most attention raises questions about what journalists consider newsworthy and how attitudes about victims and perpetrators shape coverage.",yt=N(),vt=$("p"),vt.textContent="Not surprisingly, shootings with more victims have been reported more widely than those with fewer. But even with the same number of victims, there has been a difference in coverage in incidents that involve deep social issues such as hate crimes and terrorism.",wt=N(),_t=$("p"),_t.textContent="In order to measure media attention and compare shootings, I tracked coverage about each incident in the print edition of The New York Times since 1982. I counted the coverage for a two-week period for each shooting, beginning on the day the incident happened and for the subsequent two weeks. I tallied the number of articles about the shooting and the ones in which that shooting was mentioned, as well as the number of words of articles about the shooting and where they appeared in the paper.",bt=N(),xt=$("p"),xt.textContent="These metrics were effective in comparing the coverage of shootings, since the length and placement of stories reflect editors’ judgment of newsworthiness. Newspapers have a limited amount of space every day, so the editors have to carefully decide on how much they cover each news event, as well as the location of the story in the paper.",kt=N(),Tt=$("h3"),Tt.textContent="What is a mass shooting?",$t=N(),Mt=$("p"),Mt.innerHTML='In the U.S., there have been at least 124 mass shootings since 1982, according to the <a href="https://www.motherjones.com/politics/2012/12/mass-shootings-mother-jones-full-data/" target="_blank">Mother Jones’ mass shooting database</a>. It defines a mass shooting as “indiscriminate rampages in public places resulting in four or more victims killed” and excludes “shootings stemming from more conventionally motivated crimes such as armed robbery or gang violence.”',At=N(),Nt=$("p"),Nt.textContent="The definition of a mass shooting varies between research institutions and media outlets. I’m using Mother Jones’ database because their definition allows more in-depth investigation about a distinct incident.",Ct=N(),St=$("div"),be&&be.c(),Et=N(),Dt=$("div"),at(Lt.$$.fragment),Ht=N(),jt=$("div"),Ut=$("article"),Ut.innerHTML="<h2>Why is there a difference in the amount of coverage?</h2> \n      <p>Why are some shootings covered more widely than the others? Is it because more people were victimized, or because it happened in a school and killed students? Or, is it because the incident was linked to deep social issues such as terrorism and hate crimes?</p> \n      <h3>Is it the number of victims?</h3>",It=N(),at(Ot.$$.fragment),Ft=N(),Yt=$("div"),Pt=$("article"),Pt.innerHTML="<h3>Is it where the shooting happened?</h3> \n      <p>Some may think school shootings have been reported widely. In fact, some of the most memorable ones happened in schools, from elementary to college, and they were hugely reported by The Times.</p>",Wt=N(),at(Rt.$$.fragment),qt=N(),Bt=$("div"),Vt=$("article"),Vt.innerHTML='<h3>Is it who were the shooters? Or who were the victims?</h3> \n      <p>In the late 1990s, a large number of school shootings happened in a row. School shootings tended to be reported widely, and in most of those cases perpetrators or victims were minors. This led to more coverage, as The Times ran articles with headlines such as “<a href="https://www.nytimes.com/2012/12/15/nyregion/witnesses-recall-deadly-shooting-sandy-hook-newtown-connecticut.html" target="_blank">&#39;Who Would Do This to Our Poor Little Babies&#39;</a>” -- one of the first major reports on the Sandy Hook Elementary School massacre.</p>',zt=N(),at(Xt.$$.fragment),Zt=N(),Jt=$("article"),Jt.innerHTML="<h4>Profile of shooters/victims</h4> \n      <p>The profile of the shooters/victims, as well as the relationship between the shooters and victims seem to be a substantial factor in the coverage of mass shootings. Shootings that targeted particular groups of people, often with the shooter’s clear motives, have been hugely reported. They weren’t one-time tragedies because of the shooter’s personal grudges or impulsive anger, but were related to serious social issues that were deeply rooted in American society.</p> \n      <p>This becomes more noticeable when looking at shootings with the least amount of coverage -- seven with no print coverage and 20 others with only one article, frequently in the “National Brief” column more than ten pages in.</p> \n      <p>Of these 27 least-reported incidents, many involved either domestic violence or workplace issues. 18 were committed by a former or current boyfriend or husband killing their girlfriend or wife, or a former or current employee opening fire at their workplace.</p>",Gt=N(),Qt=$("div"),at(Kt.$$.fragment),te=N(),at(ee.$$.fragment),E(n,"class","svelte-xh3s86"),E(h,"class","svelte-xh3s86"),E(d,"class","svelte-xh3s86"),E(y,"type","button"),E(y,"class","selection active svelte-xh3s86"),E(y,"data-id","91"),E(w,"type","button"),E(w,"class","selection svelte-xh3s86"),E(w,"data-id","113"),E(M,"type","button"),E(M,"class","selection svelte-xh3s86"),E(M,"data-id","27"),E(m,"class","selections svelte-xh3s86"),E(U,"class","svelte-xh3s86"),void 0===t[6]&&z((()=>t[14].call(U))),E(D,"class","selection-dropdown svelte-xh3s86"),E(O,"class","svelte-xh3s86"),E(u,"class","selection-container svelte-xh3s86"),E(a,"class","selection-section svelte-xh3s86"),E(ut,"class","selected-shooting svelte-xh3s86"),E(rt,"class","svelte-xh3s86"),E(Dt,"id","overview"),E(Ut,"class","svelte-xh3s86"),E(jt,"id","fatalities"),E(Pt,"class","svelte-xh3s86"),E(Yt,"id","locations"),E(Vt,"class","svelte-xh3s86"),E(Jt,"class","svelte-xh3s86"),E(Bt,"id","profiles"),E(Qt,"id","hate-terror"),E(St,"class","scroller-container svelte-xh3s86")},m(r,l){x(r,n,l),x(r,i,l),x(r,a,l),st(s,a,null),b(a,c),b(a,u),b(u,h),b(u,f),b(u,d),b(u,g),b(u,m),b(m,y),b(m,v),b(m,w),b(m,_),b(m,M),b(u,C),b(u,D),b(D,H),b(D,U);for(let t=0;t<ye.length;t+=1)ye[t].m(U,null);j(U,t[6]),b(u,I),b(u,O),b(O,F),b(O,Y),b(O,P),b(O,R),b(O,q),b(O,B),b(O,V),b(O,Z),b(O,J),b(O,G),b(O,Q),b(O,K),_e.m(O,null),x(r,tt,l),x(r,rt,l),b(rt,ot),b(ot,ct),b(ot,ut),b(ut,ht),b(ot,ft),b(rt,dt),b(rt,gt),b(rt,pt),b(rt,mt),b(rt,yt),b(rt,vt),b(rt,wt),b(rt,_t),b(rt,bt),b(rt,xt),b(rt,kt),b(rt,Tt),b(rt,$t),b(rt,Mt),b(rt,At),b(rt,Nt),x(r,Ct,l),x(r,St,l),be&&be.m(St,null),b(St,Et),b(St,Dt),st(Lt,Dt,null),b(St,Ht),b(St,jt),b(jt,Ut),b(jt,It),st(Ot,jt,null),b(St,Ft),b(St,Yt),b(Yt,Pt),b(Yt,Wt),st(Rt,Yt,null),b(St,qt),b(St,Bt),b(Bt,Vt),b(Bt,zt),st(Xt,Bt,null),b(Bt,Zt),b(Bt,Jt),b(St,Gt),b(St,Qt),st(Kt,Qt,null),x(r,te,l),st(ee,r,l),ne=!0,re||(oe=[S(iu,"scroll",(()=>{ie=!0,clearTimeout(e),e=setTimeout(ae,100),t[12]()})),S(y,"click",t[10]),S(w,"click",t[10]),S(M,"click",t[10]),S(U,"change",t[14]),S(U,"change",t[9]),p(Ls.call(null,Dt)),S(Dt,"enterViewport",(function(){o(t[2]())&&t[2]().apply(this,arguments)})),S(Dt,"exitViewport",(function(){o(t[3]())&&t[3]().apply(this,arguments)})),p(Ls.call(null,jt)),S(jt,"enterViewport",(function(){o(t[2]())&&t[2]().apply(this,arguments)})),S(jt,"exitViewport",(function(){o(t[3]())&&t[3]().apply(this,arguments)})),p(Ls.call(null,Yt)),S(Yt,"enterViewport",(function(){o(t[2]())&&t[2]().apply(this,arguments)})),S(Yt,"exitViewport",(function(){o(t[3]())&&t[3]().apply(this,arguments)})),p(Ls.call(null,Bt)),S(Bt,"enterViewport",(function(){o(t[2]())&&t[2]().apply(this,arguments)})),S(Bt,"exitViewport",(function(){o(t[3]())&&t[3]().apply(this,arguments)})),p(Ls.call(null,Qt)),S(Qt,"enterViewport",(function(){o(t[2]())&&t[2]().apply(this,arguments)})),S(Qt,"exitViewport",(function(){o(t[3]())&&t[3]().apply(this,arguments)}))],re=!0)},p(n,[r]){t=n,16&r&&!ie&&(ie=!0,clearTimeout(e),scrollTo(iu.pageXOffset,t[4]),e=setTimeout(ae,100));const o={};if(!l&&32&r&&(l=!0,o.data=t[5],X((()=>l=!1))),s.$set(o),256&r){let e;for(me=t[8],e=0;e<me.length;e+=1){const n=su(t,me,e);ye[e]?ye[e].p(n,r):(ye[e]=lu(n),ye[e].c(),ye[e].m(U,null))}for(;e<ye.length;e+=1)ye[e].d(1);ye.length=me.length}320&r&&j(U,t[6]),(!ne||32&r)&&se!==(se=t[5].case+"")&&L(F,se),(!ne||32&r)&&le!==(le=t[5].year+"")&&L(P,le),(!ne||32&r)&&ce!==(ce=t[5].city+"")&&L(q,ce),(!ne||32&r)&&ue!==(ue=t[5].state+"")&&L(V,ue),(!ne||32&r)&&he!==(he=t[5].fatalities+"")&&L(J,he),(!ne||32&r)&&fe!==(fe=0===t[5].injured?".":"")&&L(Q,fe),we===(we=ve(t))&&_e?_e.p(t,r):(_e.d(1),_e=we(t),_e&&(_e.c(),_e.m(O,null))),(!ne||32&r)&&de!==(de=t[5].case+"")&&L(ht,de),t[4]>3500&&t[4]<3e4?be?be.p(t,r):(be=hu(t),be.c(),be.m(St,Et)):be&&(be.d(1),be=null);const i={};1&r&&(i.data=t[0]),32&r&&(i.selected=t[5].id),Lt.$set(i);const a={};1&r&&(a.data=t[0]),32&r&&(a.selected=t[5].id),Ot.$set(a);const c={};1&r&&(c.data=t[0]),32&r&&(c.selected=t[5].id),Rt.$set(c);const u={};1&r&&(u.data1=t[0]),2&r&&(u.data2=t[1]),32&r&&(u.selected=t[5].id),Xt.$set(u);const h={};1&r&&(h.data=t[0]),32&r&&(h.selected=t[5].id),Kt.$set(h)},i(t){ne||(et(s.$$.fragment,t),et(Lt.$$.fragment,t),et(Ot.$$.fragment,t),et(Rt.$$.fragment,t),et(Xt.$$.fragment,t),et(Kt.$$.fragment,t),et(ee.$$.fragment,t),ne=!0)},o(t){nt(s.$$.fragment,t),nt(Lt.$$.fragment,t),nt(Ot.$$.fragment,t),nt(Rt.$$.fragment,t),nt(Xt.$$.fragment,t),nt(Kt.$$.fragment,t),nt(ee.$$.fragment,t),ne=!1},d(t){t&&k(n),t&&k(i),t&&k(a),lt(s),T(ye,t),_e.d(),t&&k(tt),t&&k(rt),t&&k(Ct),t&&k(St),be&&be.d(),lt(Lt),lt(Ot),lt(Rt),lt(Xt),lt(Kt),t&&k(te),lt(ee,t),re=!1,r(oe)}}}function gu(t,e,n){let r,o,i,{dataset:a}=e,{data:s}=e,{victimsD:l}=e;s=a[0],l=a[1],console.log(a);const c=ea("%m/%d/%y"),u=ta("%Y");s.map((t=>{t.id=+t.id,t.rank="NA"==t.rank?"NA":+t.rank,t.shooting_date=c(t.shooting_date),t.year=u(t.shooting_date),t.fatalities=+t.fatalities,t.injured=+t.injured,t.total_victims=+t.total_victims,t.suspect_1_age=+t.suspect_1_age,t.suspect_2_age=+t.suspect_2_age,t.count_by_year=+t.count_by_year,t.latitude=+t.latitude,t.longitude=+t.longitude,t.dist_from_ny_miles=+t.dist_from_ny_miles,t.total_words=+t.total_words,t.total_articles=+t.total_articles,t.mentioned_articles=+t.mentioned_articles,t.total_front_page="NA"==t.total_front_page?"NA":+t.total_front_page,t.made_front_count="NA"==t.made_front_count?"NA":+t.made_front_count})),s.sort(((t,e)=>e.total_words-t.total_words)),l.map((t=>{t.id=+t.id,t.victim_count=+t.victim_count,t.victim_age="14-20"===t.victim_age?"NA":+t.victim_age,t.total_victims=+t.total_victims,t.total_words=+t.total_words,t.suspect_1_age=+t.suspect_1_age,t.suspect_2_age="NA"===t.suspect_2_age?"NA":+t.suspect_2_age})),console.log(l);let h=s.filter((t=>"NA"!==t.total_front_page)),f=h.filter((t=>"113"!=t.id&&"27"!=t.id&&"91"!=t.id)),d=91,g=s.filter((t=>t.id==d))[0],p=g;let m=["overview","fatalities","locations","profiles","hate-terror"];return Y((()=>{n(2,r=()=>{let t=m.map((t=>document.querySelector(`#${t}`))),e=t.map((t=>function(t){const{top:e,bottom:n}=t.getBoundingClientRect();return e>0||n>0}(t)));(function(t){return"string"==typeof t?new Be([[document.querySelector(t)]],[document.documentElement]):new Be([[t]],qe)})(`.${m[e.findIndex((t=>!0===t))]}`).style("border-bottom","2px solid orange")}),n(3,o=()=>{let t=m.map((t=>document.querySelector(`#${t}`)));t.map((t=>function(t){const{top:e,bottom:n}=t.getBoundingClientRect();return e>0||n>0}(t))),ze(".nav-item").style("border-bottom","0px")})})),t.$$set=t=>{"dataset"in t&&n(11,a=t.dataset),"data"in t&&n(0,s=t.data),"victimsD"in t&&n(1,l=t.victimsD)},[s,l,r,o,i,g,p,h,f,()=>{ze(".selection").classed("active",!1),n(5,g=p)},t=>{ze(".selection").classed("active",!1),d=t.target.getAttribute("data-id"),t.target.classList.add("active"),n(5,g=s.filter((t=>t.id==d))[0]),n(6,p=g)},a,function(){n(4,i=iu.pageYOffset)},function(t){g=t,n(5,g)},function(){p=U(this),n(6,p),n(8,f)},function(){p=U(this),n(6,p),n(8,f)}]}class pu extends ht{constructor(t){super(),ut(this,t,gu,du,i,{dataset:11,data:0,victimsD:1})}}function mu(e){let n;return{c(){n=$("div"),n.innerHTML='<article class="svelte-xh5pf1"><h3>Methodology</h3> \n    <h4 class="svelte-xh5pf1">Why am I looking at The New York Times coverage?</h4> \n    <p>I focused on The New York Times because it’s a historically widely-circulated national newspaper which widely reports issues throughout the country. Generally, local newspapers focus more on local issues. The Times focuses more on New York and around it, but Prof. Dan Zedek, and my second reader, Emily Boardman Ndulue, researcher at Media Cloud Project, and I decided the local biases are small enough. Availability of historical data and other tools such as New York Times API and Timesmachine were also major reasons to focus on The Times for this research.</p> \n    <h4 class="svelte-xh5pf1">Why am I tracking Times’ print coverage and excluding digital?</h4> \n    <p>Since I’m analyzing data from the 1980s, where digital coverage was not the main focus of the paper, I’m only looking at print coverage until present. All copies of print issues are available on Timesmachine and ProQuest, whereas there are no packaged batches of online articles. Focusing only on print improved the accuracy of data collection and cleaning. Moreover, The Times’ decision on the rank of articles in print are historically widely considered by other U.S. news outlets, so we decided the paper’s decision-making on print should reflect the general trend in the news industry throughout the U.S.</p> \n    <h4 class="svelte-xh5pf1">How did I collect the data?</h4> \n    <p>I gathered The New York Times’ article data by using ProQuest database through Northeastern Library. I set the query periods from the date the shooting happened and two weeks after that date. I used this two-week period because studies have shown that in general, newspapers stop reporting about shooting incidents after two weeks. Query terms are determined as: ([SHOOTING LOCATION] OR [SPECIFIC KEYWORD]) AND [GUN/SHOOTING-RELATED KEYWORDS]. Shooting locations are determined as: [CITY NAME] OR [STATE NAME] OR [STATE ABBREVIATION IN AP STYLE]. Specific keywords are terms such as “Walmart” or “IHOP,” which can be used, in reporting, to identify a specific shooting instead of geographic location. The list of specific keywords were come up by me and Emily Boardman Ndulue.</p> \n    <p>Other variables such as shooter’s ages and shooting locations were downloaded from Mother Jones’ database and occasionally fixed with the information provided by database by The Violence Project. The fatal victim’s ages were scraped from Voice of America’s list of victims. The missing data about the victim&#39;s ages were manually filled in by Yuriko Schumacher.</p> \n    <h4 class="svelte-xh5pf1">How did I clean the data?</h4> \n    <p>The collected data had almost no false negatives, but a huge amount of false positives. I first converted the text data exported from ProQuest into the spreadsheet format (one row = one article). I then manually went through every article one by one. For each article, I 1) checked if the published date is within the two-week time period, 2) read the headline, 3) looked for query terms (shooting location, specific keywords, and gun/shooting-related keywords) in the body text and 4) decided if the article is about the shooting or just one that mentions the shooting, and if it should be included in the research or not. Additionally, for those I found should be included in the research, I looked at the copy of the paper and confirmed the section and the first page where the article appeared in the paper. Through this process, I obtained a total of 2,517 articles including those that only mention the shooting. Ten percent of those articles were confirmed by Emily Boardman Ndulue.</p></article>',E(n,"class","svelte-xh5pf1")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}class yu extends ht{constructor(t){super(),ut(this,t,null,mu,i,{})}}function vu(e){let n;return{c(){n=$("footer"),n.innerHTML='<p>Produced by students of the Media Innovation masters&#39; program at the <a href="https://camd.northeastern.edu/journalism-at-northeastern/" style="text-decoration: underline">Northeastern University School of Journalism.</a> © 2021</p> \n\t<img src="https://mediainnovation.camd.northeastern.edu/2021/loveinthetimeofcovid/images/seal_logotype-768x252.png" width="300px" alt="Logo of Northeastern University College of Arts, Media and Design"/>',E(n,"class","svelte-1t1acxn")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}class wu extends ht{constructor(t){super(),ut(this,t,null,vu,i,{})}}function _u(e){let n;return{c(){n=$("div"),n.innerHTML='<p>Special thanks to Prof. Dan Zedek, Emily Boardman Ndulue, and Prof. Rahul Bhargava for their valuable feedback and generosity of offering help!<br/><a href="mailto: schumacher.y@northeastern.edu">Email Yuriko</a></p>',E(n,"class","svelte-1jo0lnt")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&k(n)}}}class bu extends ht{constructor(t){super(),ut(this,t,null,_u,i,{})}}function xu(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ku(t){let e,n;return e=new pu({props:{dataset:t[0]}}),{c(){at(e.$$.fragment)},m(t,r){st(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.dataset=t[0]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function Tu(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function $u(t){let e,n,r,o,i,a,s,l,c,u,h,f;e=new Ts({}),o=new Ms({});let d={ctx:t,current:null,token:null,hasCatch:!1,pending:Tu,then:ku,catch:xu,value:5,blocks:[,,,]};return rt(t[1],d),s=new yu({}),c=new bu({}),h=new wu({}),{c(){at(e.$$.fragment),n=N(),r=$("main"),at(o.$$.fragment),i=N(),d.block.c(),a=N(),at(s.$$.fragment),l=N(),at(c.$$.fragment),u=N(),at(h.$$.fragment),E(r,"class","svelte-1jodwtw")},m(t,g){st(e,t,g),x(t,n,g),x(t,r,g),st(o,r,null),b(r,i),d.block.m(r,d.anchor=null),d.mount=()=>r,d.anchor=null,x(t,a,g),st(s,t,g),x(t,l,g),st(c,t,g),x(t,u,g),st(h,t,g),f=!0},p(e,[n]){!function(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}(d,t=e,n)},i(t){f||(et(e.$$.fragment,t),et(o.$$.fragment,t),et(d.block),et(s.$$.fragment,t),et(c.$$.fragment,t),et(h.$$.fragment,t),f=!0)},o(t){nt(e.$$.fragment,t),nt(o.$$.fragment,t);for(let t=0;t<3;t+=1){nt(d.blocks[t])}nt(s.$$.fragment,t),nt(c.$$.fragment,t),nt(h.$$.fragment,t),f=!1},d(t){lt(e,t),t&&k(n),t&&k(r),lt(o),d.block.d(),d.token=null,d=null,t&&k(a),lt(s,t),t&&k(l),lt(c,t),t&&k(u),lt(h,t)}}}function Mu(t,e,n){let{datasets:r=[]}=e,{nytMergedD:o=[]}=e,{victimsD:i=[]}=e,a=async function(){n(2,o=await ao("data/nyt_merged.csv")),n(3,i=await ao("data/victims.csv")),n(0,r=[o,i])}();return t.$$set=t=>{"datasets"in t&&n(0,r=t.datasets),"nytMergedD"in t&&n(2,o=t.nytMergedD),"victimsD"in t&&n(3,i=t.victimsD)},[r,a,o,i]}return new class extends ht{constructor(t){super(),ut(this,t,Mu,$u,i,{datasets:0,nytMergedD:2,victimsD:3})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
